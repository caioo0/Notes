## # 结构体

教程地址：https://www.rustwiki.org.cn/zh-CN/book/ch05-02-example-structs.html

## 一个使用结构体的示例程序

使用 Cargo 新建一个叫做 *rectangles* 的二进制程序，它获取以像素为单位的长方形的宽度和高度，并计算出长方形的面积。示例 5-8 显示了位于项目的 *src/main.rs* 中的小程序，它刚刚好实现此功能：

文件名: src/main.rs

```
fn main() {
    let width1 = 30;
    let height1 = 50;

    println!(
        "The area of the rectangle is {} square pixels.",
        area(width1, height1)
    );
}

fn area(width: u32, height: u32) -> u32 {
    width * height
}
```

现在使用 `cargo run` 运行程序：

```
(base) PS E:\code\rust\rectangles> cargo run
   Compiling rectangles v0.1.0 (E:\code\rust\rectangles)
    Finished dev [unoptimized + debuginfo] target(s) in 0.31s       
     Running `target\debug\rectangles.exe`
The area of the rectangle is 1500 square pixels.
```

### [使用元组重构](https://www.rustwiki.org.cn/zh-CN/book/ch05-02-example-structs.html#使用元组重构)

文件名: src/main.rs

```
fn main() {
    
    let rect1 = (30,50);

    println!( "The area of the rectangle is {} square pixels.",area(rect1));
}


fn area(dimensions: (u32,u32)) -> u32 {
    dimensions.0 * dimensions.1
}
```

### [使用结构体重构：赋予更多意义](https://www.rustwiki.org.cn/zh-CN/book/ch05-02-example-structs.html#使用结构体重构赋予更多意义)

```
struct Rectangle{
    width: u32,
    height: u32,
}

fn main() {
    let rect1 = Rectangle {
        width:30,
        height:50,
    };
    println!( "The area of the rectangle is {} square pixels.",area(&rect1));
}

fn area(dimensions:&Rectangle) -> u32 {
    dimensions.width * dimensions.height
}

```

### [通过派生 trait 增加实用功能](https://www.rustwiki.org.cn/zh-CN/book/ch05-02-example-structs.html#通过派生-trait-增加实用功能)

```
#[derive(Debug)]
#[allow(dead_code)]
struct Rectangle {
    width: u32,
    height: u32,
}

fn main() {
    let rect1 = Rectangle {
        width: 30,
        height: 50,
    };

    println!("rect1 is {:?}", rect1);
}
```

