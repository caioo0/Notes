# 1 åŠ¨æ‰‹å­¦æ¦‚ç‡

## 1.1 éšæœºç°è±¡ä¸æ¦‚ç‡

* éšæœºç°è±¡ï¼šåœ¨ä¸€å®šæ¡ä»¶ä¸‹,å¹¶ä¸æ€»æ˜¯å‡ºç°ç›¸åŒç»“æœçš„ç°è±¡ã€‚

* éšæœºè¯•éªŒï¼šå¾ˆå¤šéšæœºç°è±¡æ˜¯å¯ä»¥å¤§é‡é‡å¤çš„ï¼Œå¦‚æŠ›ä¸€æšç¡¬å¸å¯ä»¥æ— é™æ¬¡é‡å¤ï¼Œä¸åŒéº¦ç©—ä¸Šçš„éº¦ç²’æ•°å¯ä»¥å¤§é‡è§‚å¯Ÿç­‰ï¼Œè¿™ç§å¯é‡å¤çš„éšæœºç°è±¡åˆç§°ä¸ºéšæœºè¯•éªŒï¼Œç®€ç§°è¯•éªŒã€‚

* éšæœºäº‹ä»¶ï¼šéšæœºç°è±¡çš„æŸäº›åŸºæœ¬ç»“æœç»„æˆçš„é›†åˆç§°ä¸ºéšæœºäº‹ä»¶ï¼Œç®€ç§°äº‹ä»¶,å¸¸ç”¨å¤§å†™å­—æ¯ï¼ˆå¦‚$Aã€Bã€C$ï¼‰è¡¨ç¤ºã€‚

* äº‹ä»¶é—´çš„å…³ç³»ä¸äº‹ä»¶çš„è¿ç®—ï¼Œè®¾å®éªŒ$E$çš„æ ·æœ¬ç©ºé—´ä¸º$S$ï¼Œè€Œ$Aã€Bã€A_{k}, (k=1,2, \cdots)$æ˜¯$S$çš„å­é›†ã€‚
  * 1. è‹¥ $A \subset B$ï¼Œåˆ™ç§°äº‹ä»¶$B$åŒ…å«äº‹ä»¶$A$ã€‚è‹¥$A\subset B ä¸” B\subset A$, åˆ™ $A = B$ã€‚
  * 2. äº‹ä»¶$A\cup B = \{x| x\in A æˆ–x \in B\}$ç§°ä¸º äº‹ä»¶$A$å’Œäº‹ä»¶$B$çš„**å’Œäº‹ä»¶**ã€‚
  * 3. äº‹ä»¶$A \cap B = \{x| x\in A ä¸”x \in B\}$ç§°ä¸º äº‹ä»¶$A$å’Œäº‹ä»¶$B$çš„**ç§¯äº‹ä»¶**ã€‚
  * 4. äº‹ä»¶$A - B = \{x| x\in A ä¸”x \notin B\}$ç§°ä¸º äº‹ä»¶$A$å’Œäº‹ä»¶$B$çš„**å·®äº‹ä»¶**ã€‚
  * 5. è‹¥$A \cap B = \varnothing$ï¼Œåˆ™ç§°äº‹ä»¶$A$ä¸äº‹ä»¶$B$**äº’ä¸ç›¸å®¹ï¼ˆæˆ–äº’æ–¥ï¼‰**ã€‚
  * 6. è‹¥$A \cup B = S$ï¼Œåˆ™ç§°äº‹ä»¶$A$ä¸äº‹ä»¶$B$**äº’ä¸ºé€†äº‹ä»¶ï¼ˆå¯¹ç«‹äº‹ä»¶ï¼‰**ã€‚
  * 7. äº¤æ¢å¾‹ï¼š$A\cup B = B\cup A, A\cap B = B \cap A$ã€‚
  * 8. ç»“åˆå¾‹ï¼š$A \cup (B \cup C) = (A \cup B) \cup C, A \cap (B \cap C) = (A \cap B) \cap C$ã€‚
  * 9. åˆ†é…å¾‹: $A\cup (B \cap C) = (A \cup B)\cap (A \cup C), A\cap (B \cup C) = (A \cap B)\cup (A \cap C)$ã€‚
  * 10. å¾·æ‘©æ ¹å¾‹ï¼š$\overline{A\cup B}=\bar{A}\cap \bar{B}, \overline{A\cap B}=\bar{A}\cup \bar{B}$ã€‚

* äº‹ä»¶çš„æ¦‚ç‡ï¼šè¡¨ç¤ºäº‹ä»¶å‘ç”Ÿçš„å¯èƒ½æ€§ã€‚
> äº‹ä»¶çš„æ¦‚ç‡$P(\cdot)$æ»¡è¶³çš„æ¡ä»¶ï¼š
> - 1. éè´Ÿæ€§ï¼šå¯¹äºæ¯ä¸€ä¸ªäº‹ä»¶$A, P(A) \ge 0$ã€‚
> - 2. è§„èŒƒæ€§ï¼šå¯¹äºå¿…ç„¶äº‹ä»¶$S, P(S) = 1$ã€‚
> - 3. å¯åˆ—å¯åŠ æ€§ï¼šè®¾$A_{1}, A_{2}, \cdots, A_{k}$æ˜¯ä¸¤ä¸¤ä¸ç›¸å®¹çš„äº‹ä»¶ï¼Œå³$A_{i}A_{j}=\varnothing, i\ne j, i,j = 1,2, \cdots, k.$ï¼Œæœ‰$$P(A_{1}\cup A_{2}\cup \cdots \cup A_{k}) = P(A_{1})+P(A_{2})+\cdots +P(A_{k})$$ã€‚

* äº‹ä»¶çš„ç‹¬ç«‹æ€§ï¼šè‹¥äº‹ä»¶$A$å’Œäº‹ä»¶$B$æ»¡è¶³ $P(AB)=P(A)P(B)$ï¼Œåˆ™ç§°äº‹ä»¶$A$å’Œäº‹ä»¶$B$ç›¸äº’ç‹¬ç«‹ã€‚
> - å®šç†ä¸€ï¼šè®¾$A, B$æ˜¯ä¸¤äº‹ä»¶ï¼Œä¸”$P(A) > 0$ï¼Œè‹¥$A, B$ç›¸äº’ç‹¬ç«‹ï¼Œåˆ™$P(B|A) =P(B)$ï¼Œåä¹‹äº¦ç„¶ï¼ˆ$P(A|B) = P(A)$ï¼‰ã€‚
> - å®šç†äºŒï¼šè‹¥äº‹ä»¶$A, B$ç›¸äº’ç‹¬ç«‹ï¼Œåˆ™ä¸‹åˆ—å„å¯¹äº‹ä»¶ä¹Ÿç›¸äº’ç‹¬ç«‹ï¼š$$Aä¸\bar{B},  \bar{A}ä¸B,  \bar{A}ä¸\bar{B}$$ 

pythonä»£ç ï¼ˆæ¨¡æ‹Ÿé¢‘ç‡è¿‘ä¼¼æ¦‚ç‡ï¼‰


```python
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
%matplotlib inline
plt.style.use("ggplot")
import warnings
warnings.filterwarnings("ignore")
plt.rcParams['font.sans-serif'] = ['SimHei', 'Songti SC', 'STFangsong']
plt.rcParams['axes.unicode_minus'] = False
import seaborn as sns
import random
```


```python
def simulat_coin(test_num):
    random.seed(100)
    coin_list = [1 if random.random() >= 0.5 else 0 for i in range(test_num)]
    coin_frequence = np.cumsum(coin_list) / (np.arange(len(coin_list)) + 1)
    plt.figure(figsize=(10, 6))
    plt.plot(np.arange(len(coin_list)) + 1, coin_frequence, c='blue', alpha=0.7)
    plt.axhline(0.5, linestyle='--', c='red', alpha=0.5)
    plt.xlabel('test_index')
    plt.ylabel('frequence')
    plt.title(f"{str(test_num)} times")
    plt.show()

simulat_coin(500)
simulat_coin(1000)
simulat_coin(5000)
simulat_coin(10000)
```


    
![png](img/output_10_0.png)
    



    
![png](img/output_10_1.png)
    



    
![png](img/output_10_2.png)
    



    
![png](img/output_10_3.png)
    


## 1.2 æ¡ä»¶æ¦‚ç‡ã€ä¹˜æ³•å…¬å¼ã€å…¨æ¦‚ç‡å…¬å¼ä¸è´å¶æ–¯å…¬å¼

* æ¡ä»¶æ¦‚ç‡ï¼šè€ƒè™‘çš„æ˜¯äº‹ä»¶$A$å·²å‘ç”Ÿçš„æ¡ä»¶ä¸‹äº‹ä»¶$B$å‘ç”Ÿçš„æ¦‚ç‡ï¼Œè®°ä¸º $P(B|A)$ã€‚æ¡ä»¶æ¦‚ç‡çš„è®¡ç®—å…¬å¼ä¸ºï¼š
$$P(B|A) = \frac{P(AB)}{P(A)}$$

> æ¡ä»¶æ¦‚ç‡$P(\cdot|A)$ä¹Ÿæ»¡è¶³æ¦‚ç‡å®šä¹‰çš„ä¸‰ä¸ªæ¡ä»¶ï¼š
> - 1. éè´Ÿæ€§ï¼šå¯¹äºæ¯ä¸€ä¸ªäº‹ä»¶$B$ï¼Œæœ‰$P(B|A) \ge 0$ã€‚
> - 2. è§„èŒƒæ€§ï¼šå¯¹äºå¿…ç„¶äº‹ä»¶$S$ï¼Œæœ‰$P(S|A) = 1$ã€‚
> - 3. å¯åˆ—å¯åŠ æ€§ï¼šè®¾$B_{1}, B_{2}, \cdots, B_{k}$æ˜¯ä¸¤ä¸¤ä¸ç›¸å®¹äº‹ä»¶ï¼Œåˆ™æœ‰ï¼š$$P(B_{1}\cup B_{2} \cup \cdots \cup B_{k}|A) = P(B_{1}|A) + P(B_{2}|A) + \cdots + P(B_{k}|A)$$

* ä¹˜æ³•å…¬å¼ï¼ˆå®šç†ï¼‰ï¼šè®¾$P(A)> 0$ï¼Œç”±æ¡ä»¶æ¦‚ç‡çš„è®¡ç®—å…¬å¼å¯æ¨å¾—ï¼š
$$P(AB) = P(B|A)P(A)$$
> æ¨å¹¿åˆ°å¤šä¸ªäº‹ä»¶çš„ç§¯äº‹ä»¶çš„æƒ…å†µï¼š
> - $P(ABC) = P(C|AB)P(B|A)P(A)$
> - $P(A_{1}A_{2}\cdots A_{n}) = P(A_{n}|A{1}\cdots A_{n-1})P(A_{n-1}|A_{1}\cdots A_{n-2})\cdots P(A_{2}|A{1})P(A_{1})$

* å…¨æ¦‚ç‡å…¬å¼ï¼šè®¾å®éªŒ$E$çš„æ ·æœ¬ç©ºé—´ä¸º$S$ï¼Œ$A$ä¸º$E$çš„äº‹ä»¶ï¼Œ$B_{1}, B{2}, \cdots, B_{n}$ä¸º$S$çš„ä¸€ä¸ªåˆ’åˆ†ï¼Œä¸”$P(B_{i}) > 0 (i=1, 2, \cdots, n)$ï¼Œåˆ™
\begin{aligned}
P(A)  &= P(AB_{1}) + P(AB_{2}) + \cdots + P(AB_{n}) \\
&= P(A|B_{1})P(B_{1}) + P(A|B_{2})P(B_{2}) + \cdots + P(A|B_{n})P(B_{n})
\end{aligned}

* è´å¶æ–¯å…¬å¼ï¼šè®¾å®éªŒ$E$çš„æ ·æœ¬ç©ºé—´ä¸º$S$ï¼Œ$A$ä¸º$E$çš„äº‹ä»¶ï¼Œ$B_{1}, B_{2}, \cdots, B_{n}$ä¸º$S$çš„ä¸€ä¸ªåˆ’åˆ†ï¼Œä¸”$P(A)>0, P(B_{i})>0 (i=1,2, \cdots, n)$ï¼Œåˆ™
\begin{aligned}
P(B_{i}|A) = \frac{P(AB_{i})}{P(A)} 
= \frac {P(A|B_{i})P(B_{i})}{P(A|B_{1})P(B_{1})+P(A|B_{2})P(B_{2})+ \cdots P(A|B_{n})P(B_{n})}
\end{aligned}

##### **ä¸‰é—¨é—®é¢˜**(ä¾‹å­)ï¼šæ˜¯ä¸€ä¸ªæºè‡ªåšå¼ˆè®ºçš„æ•°å­¦æ¸¸æˆé—®é¢˜, å¤§è‡´å‡ºè‡ªç¾å›½çš„ ç”µè§†æ¸¸æˆèŠ‚ç›® Let's Make a Dealã€‚é—®é¢˜çš„åå­—æ¥è‡ªè¯¥èŠ‚ç›®çš„ä¸»æŒäººè’™æãƒ»éœå°” (Monty Hall)ã€‚è¿™ä¸ªæ¸¸æˆçš„ç©æ³•æ˜¯ï¼šå‚èµ›è€…ä¼šçœ‹è§ä¸‰æ‰‡å…³é—­äº†çš„é—¨ï¼Œå…¶ä¸­ä¸€æ‰‡çš„åé¢æœ‰ä¸€è¾†æ±½è½¦ï¼Œé€‰ä¸­åé¢æœ‰è½¦çš„é‚£æ‰‡é—¨å°±å¯ä»¥èµ¢å¾—è¯¥æ±½è½¦, è€Œå¦å¤–ä¸¤æ‰‡é—¨åé¢åˆ™å„è—æœ‰ä¸€åªå±±ç¾Šã€‚å½“å‚èµ›è€…é€‰å®šäº†ä¸€æ‰‡é—¨ï¼Œä½†æœªå»å¼€å¯å®ƒçš„æ—¶å€™ï¼ŒèŠ‚ç›®ä¸»æŒäººä¼šå¼€å¯å‰©ä¸‹ä¸¤æ‰‡é—¨çš„å…¶ä¸­ä¸€æ‰‡, éœ²å‡ºå…¶ä¸­ä¸€åªå±±ç¾Šã€‚ä¸»æŒäººå…¶åä¼šé—®å‚èµ›è€…è¦ä¸è¦æ¢å¦ä¸€æ‰‡ä»ç„¶å…³ä¸Šçš„é—¨ã€‚é—®é¢˜æ˜¯ï¼šæ¢å¦ä¸€æ‰‡é—¨ä¼šå¦å¢åŠ å‚èµ›è€…èµ¢å¾—æ±½è½¦çš„æœºä¼šç‡ï¼Ÿ

åˆ†æï¼šè®¾$A_{i} (i = 1, 2, 3)$è¡¨ç¤ºç¬¬$i$æ‰‡é—¨åŠé—¨åä¸ºå±±ç¾Šï¼Œ$\bar{A_{i}}$è¡¨ç¤ºç¬¬$i$æ‰‡é—¨åŠé—¨åä¸ºæ±½è½¦ã€‚

1. å‚èµ›è€…ä¸æ”¹å˜å†³ç­–æ—¶ï¼Œåˆ™ç»“æœå’Œä¸»æŒäººæ²¡æœ‰å…³ç³»ï¼Œåªä¸å‚èµ›è€…ä¸é—¨åé¢çš„ç‰©å“æœ‰å…³ï¼Œå‚èµ›è€…é€‰ä¸­é—¨$i$ä¸ºæ±½è½¦çš„æ¦‚ç‡ä¸ºï¼š
<style>
table
{
    margin: auto;
}
</style>

|é—¨1ï¼ˆè½¦ï¼‰|é—¨2ï¼ˆç¾Šï¼‰|é—¨3ï¼ˆç¾Šï¼‰|
|:---:|:---:|:---:|

$$P(car) = \frac{1}{3}$$

2. å‚èµ›è€…æ”¹å˜å†³ç­–æ—¶ï¼Œå¯èƒ½çš„æƒ…å†µä¸ºï¼š
<style>
table
{
    margin: auto;
}
</style>

|é—¨1ï¼ˆè½¦ï¼‰|é—¨2ï¼ˆç¾Šï¼‰|é—¨3ï¼ˆç¾Šï¼‰|
|:---:|:---:|:---:|
|é€‰|å¼€|æ¢|
|æ¢|é€‰|å¼€|
|æ¢|å¼€|é€‰|

$$P(car) = \frac{2}{3}$$

pythonä»£ç ï¼ˆæ¨¡æ‹Ÿä¸‰é—¨é—®é¢˜ï¼‰


```python
import random 

class Montyhall():
    def __init__(self, test_num):
        self.test_num = test_num
        self.no_change = 0    # è®°å½•æœªæ¢é—¨è·å¾—æ±½è½¦çš„æ¬¡æ•°
        self.change = 0     # è®°å½•æ¢é—¨åè·å¾—æ±½è½¦çš„æ¬¡æ•°
    def start(self):
        door_list = [1, 2, 3]
        for i in range(self.test_num):
            choice = random.choice(door_list)  # å‚èµ›è€…éšæœºé€‰ä¸€ä¸ªé—¨
            car = random.choice(door_list)   # éšæœºå‡å®šä¸€ä¸ªé—¨åæ˜¯æ±½è½¦
            if choice == car :
                self.no_change += 1   # å‚èµ›è€…é€‰ä¸­çš„é—¨åæ°æ˜¯æ±½è½¦ï¼Œä¸æ”¹å˜å³è·å¾—æ±½è½¦
            else:
                self.change += 1     # å‚èµ›è€…é€‰ä¸­çš„é—¨åä¸æ˜¯æ±½è½¦ï¼Œä¸»æŒäººæ‰“å¼€å¦ä¸€æ‰‡æ˜¯å±±ç¾Šçš„é—¨ï¼Œå‚èµ›è€…åˆ™æ¢é—¨åè·å¾—æ±½è½¦
        print("å‚èµ›è€…ä¸æ”¹å˜å†³ç­–è·å¾—æ±½è½¦çš„æ¦‚ç‡ï¼š{}".format((self.no_change/self.test_num)*100), '%')
        print("å‚èµ›è€…æ”¹å˜å†³ç­–è·å¾—æ±½è½¦çš„æ¦‚ç‡ï¼š{}".format((self.change/self.test_num)*100), '%')
        
montyhall = Montyhall(10000)
montyhall.start()
```

    å‚èµ›è€…ä¸æ”¹å˜å†³ç­–è·å¾—æ±½è½¦çš„æ¦‚ç‡ï¼š33.35 %
    å‚èµ›è€…æ”¹å˜å†³ç­–è·å¾—æ±½è½¦çš„æ¦‚ç‡ï¼š66.64999999999999 %
    

## 1.3 ä¸€ç»´éšæœºå˜é‡åŠå…¶åˆ†å¸ƒå‡½æ•°å’Œå¯†åº¦å‡½æ•°

* éšæœºå˜é‡ï¼šå–å€¼å¸¦æœ‰éšæœºæ€§çš„å˜é‡$\bf{X}$ç§°ä¸ºéšæœºå˜é‡ã€‚

* ç¦»æ•£å‹éšæœºå˜é‡ï¼šéšæœºå˜é‡$\bf{X}$çš„å–å€¼æ˜¯æœ‰é™ä¸ªæˆ–å¯åˆ—æ— é™å¤šä¸ªï¼Œè¿™ç§å˜é‡ç§°ä¸º**ç¦»æ•£å‹éšæœºå˜é‡**ã€‚
> ä¸‰ç§é‡è¦çš„ç¦»æ•£å‹éšæœºå˜é‡åŠå…¶åˆ†å¸ƒå¾‹ï¼š
> - 1. $(0 - 1)$åˆ†å¸ƒï¼šéšæœºå˜é‡$\bf{X}$çš„å–å€¼ä¸º 0 æˆ– 1ï¼Œåˆ†å¸ƒå¾‹ä¸ºï¼š$$P\{{\bf{X}}=k\}=p^{k}(1-p)^{1-k}, k = 0, 1 (0 < p < 1)$$
> - 2. äºŒé¡¹åˆ†å¸ƒï¼šè®¾å®éªŒ$E$åªæœ‰å¯èƒ½ä¸¤ä¸ªç»“æœï¼š$A, \bar{A}$ï¼Œåˆ™ç§°$E$ä¸ºä¼¯åŠªåˆ©å®éªŒã€‚è®¾$P(A)=p (0< p < 1)$ï¼Œæ­¤æ—¶$P(\bar{A}) = 1-p$ï¼Œå°†$E$ç‹¬ç«‹é‡å¤åœ°è¿›è¡Œ$n$æ¬¡ï¼Œåˆ™ç§°ä¸º$n$é‡ä¼¯åŠªåˆ©å®éªŒã€‚$n$é‡ä¼¯åŠªåˆ©å®éªŒæœä»äºŒé¡¹åˆ†å¸ƒï¼Œåˆ†å¸ƒå¾‹ä¸ºï¼š$$P\{{\bf{X}}=k\}=C_{n}^{k}p^{k}(1-p)^{n-k}, k =1, 2, \cdots, n$$ $\bf{X}$è¡¨ç¤ºå®éªŒä¸­$A$å‘ç”Ÿçš„æ¬¡æ•°ã€‚
> - 3. æ³Šæ¾åˆ†å¸ƒï¼šè®¾éšæœºå˜é‡æ‰€æœ‰å¯èƒ½çš„å–å€¼ä¸º$0, 1, 2, \cdots$ï¼Œè€Œå–å„ä¸ªå€¼çš„æ¦‚ç‡ä¸ºï¼š$$P\{{\bf{X}}=k\} = \frac{\lambda ^{k} e^{-\lambda}}{k!}, k= 0, 1, 2, \cdots, $$ å…¶ä¸­$\lambda > 0$æ˜¯å¸¸æ•°ï¼Œåˆ™ç§°$\bf{X}$æœä»å‚æ•°ä¸º$\lambda$çš„æ³Šæ¾åˆ†å¸ƒï¼Œè®°ä¸º$\bf{X} \sim \pi (\lambda)$    
æ³Šæ¾å®šç†ï¼šè®¾$\lambda > 0$æ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œ$n$æ˜¯ä»»æ„æ­£æ•´æ•°ï¼Œè®¾$np_{n}=\lambda$ï¼Œåˆ™å¯¹ä¸€ä»»æ„å›ºå®šçš„éè´Ÿæ•´æ•°$k$ï¼Œæœ‰ $$\lim_{n \to \infty}C_{n}^{k}p_{n}^{k}(1-p_{n})^{n-k}= \frac{\lambda ^{k} e^{-\lambda}}{k!}$$

* éšæœºå˜é‡$\bf{X}$çš„åˆ†å¸ƒå‡½æ•°$F$ï¼šè®¾$\bf{X}$æ˜¯ä¸€ä¸ªéšæœºå˜é‡ï¼Œ$x$æ˜¯ä»»æ„å®æ•°ï¼Œå‡½æ•°$$F(x)=P\{{\bf{X}} \le x\}, -\infty < x < \infty$$ ç§°ä¸º$\bf{X}$çš„åˆ†å¸ƒå‡½æ•°ã€‚  
å¯¹äºä»»æ„çš„å®æ•°$x_{1}, x_{2}$ï¼Œæœ‰ï¼š$P\{x_{1} < {\bf{X}} \le x_{2} \} = P\{{\bf{X}} \le x_{2}\} -P\{{\bf{X}} \le x_{1}\} = F(x_{2}) - F(x_{1})$ã€‚
> åˆ†å¸ƒå‡½æ•°$F(x)$çš„åŸºæœ¬æ€§è´¨ï¼š
> - 1. $F(x)$æ˜¯ä¸€ä¸ªä¸å‡å‡½æ•°ã€‚
> - 2. $0 < F(x) < 1$ï¼Œä¸”$$F(-\infty) = \lim_{x \to -\infty}F(x) = 0, F(\infty) = \lim_{x \to \infty}F(x) = 1$$ã€‚
> - 3. $F(x+0) = F(x)$ï¼Œå³$F(x)$æ˜¯å³è¿ç»­çš„ã€‚

* è¿ç»­å‹éšæœºå˜é‡ï¼šéšæœºå˜é‡$\bf{X}$çš„å–å€¼æ˜¯è¿ç»­çš„ï¼ˆæ— é™å¤šã€ä¸å¯åˆ—ï¼‰ï¼Œè¿™ç§å˜é‡ç§°ä¸º**è¿ç»­å‹éšæœºå˜é‡**ã€‚ 

* è¿ç»­å‹éšæœºå˜é‡çš„æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼šå› ä¸ºåˆ†å¸ƒå‡½æ•°$F(x)= \int_{-\infty}^{x}f(t)dt$ï¼Œå…¶ä¸­ï¼Œ$f(x)$ç§°ä¸ºéšæœºå˜é‡çš„**æ¦‚ç‡å¯†åº¦å‡½æ•°**ã€‚
> æ¦‚ç‡å¯†åº¦å‡½æ•°$f(x)$çš„æ€§è´¨ï¼š
> - 1. $f(x) \ ge 0$ã€‚
> - 2. $\int_{-\infty}^{\infty}f(x)dx = 1$ã€‚
> - 3. å¯¹äºä»»æ„å®æ•°$x_{1}, x_{2} (x_{1} \le x_{2})$ï¼Œæœ‰$$P\{x_{1}< {\bf{X}} \le x_{2}\} = F(x_{2})-F(x_{1}) = \int_{x_{1}}^{x_{2}}f(x)dx$$
> - 4. è‹¥$f(x)$åœ¨ç‚¹$x$å¤„è¿ç»­ï¼Œåˆ™æœ‰$F^{'}(x) =f(x)$ã€‚
> - æ³¨ï¼šå¯¹äºè¿ç»­æ€§éšæœºå˜é‡ï¼Œ$P\{a< {\bf{X}} \le b\}=P\{a\ge {\bf{X}} \le b\} = P\{a< {\bf{X}} < b\}$ã€‚

pythonä»£ç ï¼ˆåˆ†å¸ƒå‡½æ•°å’Œæ¦‚ç‡å¯†åº¦çš„æ±‚è§£ï¼‰


```python
# 1. å·²çŸ¥æ¦‚ç‡å¯†åº¦æ±‚è§£åˆ†å¸ƒå‡½æ•°
from sympy import *
x = symbols('x')
fx = (1/pi) * (1/(1+x**2))
print("å·²çŸ¥æ¦‚ç‡å¯†åº¦å‡½æ•°f(x)={}".format(fx))
Fx =  integrate(fx, (x, -oo, x))
print("åˆ™å…¶åˆ†å¸ƒå‡½æ•°F(x)={}".format(Fx))
# 2. å·²çŸ¥åˆ†å¸ƒå‡½æ•°æ±‚è§£æ¦‚ç‡å¯†åº¦å‡½æ•°
Fx = (1/pi) * (atan(x) + pi/2)
fx = diff(Fx, x)
print("å·²çŸ¥åˆ†å¸ƒå‡½æ•°F(x)={}".format(Fx))
print("åˆ™å…¶æ¦‚ç‡å¯†åº¦å‡½æ•°f(x)={}".format(fx))
```

    å·²çŸ¥æ¦‚ç‡å¯†åº¦å‡½æ•°f(x)=1/(pi*(x**2 + 1))
    åˆ™å…¶åˆ†å¸ƒå‡½æ•°F(x)=atan(x)/pi + 1/2
    å·²çŸ¥åˆ†å¸ƒå‡½æ•°F(x)=(atan(x) + pi/2)/pi
    åˆ™å…¶æ¦‚ç‡å¯†åº¦å‡½æ•°f(x)=1/(pi*(x**2 + 1))
    

> ä¸‰ç§é‡è¦çš„è¿ç»­å‹éšæœºå˜é‡ï¼š
> - 1. å‡åŒ€åˆ†å¸ƒï¼šè‹¥è¿ç»­å‹éšæœºå˜é‡${\bf{X}}$å…·æœ‰æ¦‚ç‡å¯†åº¦å‡½æ•°$$f(x)=\left\{ \begin{aligned}&\frac{1}{b-a}, &a < x < b \\ &0, &å…¶å®ƒ \end{aligned}\right.$$ åˆ™ç§°${\bf{X}}$åœ¨åŒºé—´$(a, b)$ä¸Šæœä»**å‡åŒ€åˆ†å¸ƒ**ï¼Œè®°ä¸º${\bf{X}} \sim U(a, b)$ã€‚
> - 2. æŒ‡æ•°åˆ†å¸ƒï¼šè‹¥è¿ç»­å‹éšæœºå˜é‡${\bf{X}}$å…·æœ‰æ¦‚ç‡å¯†åº¦å‡½æ•°$$f(x)=\left \{ \begin{aligned} &\frac{1}{\theta}e^{-x/\theta}, &x>0 \\ &0, &å…¶å®ƒ\end{aligned}\right.$$å…¶ä¸­$\theta > 0$ä¸ºå¸¸æ•°ï¼Œåˆ™ç§°${\bf{X}}$æœä»å‚æ•°ä¸º$\theta$çš„**æŒ‡æ•°åˆ†å¸ƒ**ã€‚
> - 3. æ­£æ€åˆ†å¸ƒï¼šè‹¥è¿ç»­å‹éšæœºå˜é‡${\bf{X}}$å…·æœ‰æ¦‚ç‡å¯†åº¦å‡½æ•°$$f(x)=\frac{1}{\sqrt{2\pi \sigma}}e^{-\frac{(x-\mu)^2}{2\sigma ^ {2}}}, -\infty < x < \infty$$å…¶ä¸­ï¼Œ$\mu, \sigma (\sigma > 0)$ä¸ºå¸¸æ•°ï¼Œåˆ™ç§°ä¸º${\bf{X}}$æœä»å‚æ•°ä¸º$\mu, \sigma$çš„**æ­£æ€åˆ†å¸ƒæˆ–é«˜æ–¯åˆ†å¸ƒ**ï¼Œè®°ä¸º${\bf{X}} \sim N(\mu, \sigma ^{2})$ã€‚

pythonä»£ç ï¼ˆä¸‰ç§é‡è¦çš„è¿ç»­å‹éšæœºå˜é‡ï¼‰


```python
import numpy as np
from sympy import *
import matplotlib.pyplot as plt 

# 1. å‡åŒ€åˆ†å¸ƒ U(a, b), 
a, b = 1, 6
x1 = symbols("x1")
f1x = (1 / (b - a)) 
F1x = integrate(f1x, (x1, a, x1))
# 2. æŒ‡æ•°åˆ†å¸ƒï¼Œtheta = 1
theta = 1
x2 = symbols("x2")
f2x = (1/ theta) * (exp(-x2/theta)) 
F2x = integrate(f2x, (x2, 0, x2))
# 3. æ­£æ€åˆ†å¸ƒ N(mu, sigma^2) ~ (0, 1), (0, 5), (2, 5)
x3 = symbols("x3")
mu1, sigma1 = 0, 1
f3x = (1/sqrt(2*pi*sigma1))*exp(-(x3 - mu1)**2 / (2*(sigma1**2)))
F3x = integrate(f3x)

# ç”»å›¾ 
x1_1 = [f1x for i in np.arange(1, 7, 0.1)]  # f1xçš„çºµåæ ‡
x1_2 = [F1x.evalf(subs={x1:i}) for i in np.arange(1, 7, step=0.1)]   # F1xçš„çºµåæ ‡
x2_1 = [f2x.evalf(subs={x2:i}) for i in np.arange(0, 10, 0.1)]
x2_2 = [F2x.evalf(subs={x2:i}) for i in np.arange(0, 10, 0.1)]
x3_1 = [f3x.evalf(subs={x3:i}) for i in np.arange(-10, 10, 0.1)]
x3_2 = [F3x.evalf(subs={x3:i}) for i in np.arange(-10, 10, 0.1)]

fig = plt.figure(figsize=(10, 6))
plt.subplot(3, 2, 1)
plt.plot(list(np.arange(1, 7, 0.1)), x1_1)
plt.title("Union Distribution Probability")
plt.xlabel('x1')
plt.ylabel('f1x')
plt.xlim(0, 10)
plt.subplot(3,2, 2)
plt.plot(list(np.arange(1, 7, 0.1)), x1_2)
plt.title("Union Distribution")
plt.xlabel('x1')
plt.ylabel('F1x')
plt.xlim(0, 10)
plt.subplot(3, 2, 3)
plt.plot(list(np.arange(0, 10, 0.1)), x2_1)
plt.title("EXP Distribution Probability")
plt.xlabel('x2')
plt.ylabel('f2x')
plt.subplot(3, 2, 4)
plt.plot(list(np.arange(0, 10, 0.1)), x2_2)
plt.title("EXP Distribution")
plt.xlabel('x2')
plt.ylabel('F2x')
plt.subplot(3, 2, 5)
plt.plot(list(np.arange(-10, 10, 0.1)), x3_1)
plt.title("Normalization Distribution Probability")
plt.xlabel('x3')
plt.ylabel('f3x')
plt.subplot(3, 2, 6)
plt.plot(list(np.arange(-10, 10, 0.1)), x3_2)
plt.title("Normalization Distribution")
plt.xlabel('x3')
plt.ylabel('F3x')
fig.tight_layout(pad=0.4, w_pad=0, h_pad=0)
plt.show()
```


    
![png](img/output_31_0.png)
    


[scipy.statsåŒ…ä¸­åŒ…å«äº†ç»Ÿè®¡å­¦ä¸€äº›ä¸“ç”¨çš„æ¦‚ç‡å¯†åº¦å‡½æ•°åŠåˆ†å¸ƒå‡½æ•°ä»¥åŠå…¶å®ƒçš„åŠŸèƒ½](https://docs.scipy.org/doc/scipy/tutorial/stats.html#performance-issues-and-cautionary-remarks)ï¼Œå®ƒæ˜¯ä¸€ä¸ªä¸“é—¨ç”¨æ¥è¿›è¡Œç»Ÿè®¡å­¦æ–¹æ³•è°ƒç”¨çš„åŒ…

## 1.4 ä¸€ç»´éšæœºå˜é‡çš„æ•°å­—ç‰¹å¾ï¼šæœŸæœ›ã€æ–¹å·®ã€åˆ†ä½æ•°ä¸ä¸­ä½æ•°

* æ•°å­¦æœŸæœ›ï¼ˆå‡å€¼ï¼‰     
å¯¹äºç¦»æ•£å‹éšæœºå˜é‡ï¼š è®¾ç¦»æ•£å‹éšæœºå˜é‡${\bf{X}}$çš„åˆ†å¸ƒå¾‹ä¸º $$P{{\bf{X}}=x_{k}}=p_{k}, k = 1, 2, \cdots, n.$$ è‹¥çº§æ•°  $$\sum_{k=1}^{\infty}x_{k}p_{k}$$ç»å¯¹æ”¶æ•›ï¼Œåˆ™ç§°çº§æ•°$\sum_{k=1}^{\infty}x_{k}p_{k}$çš„å’Œä¸ºéšæœºå˜é‡${\bf{X}}$çš„**æ•°å­¦æœŸæœ›**ï¼Œè®°ä¸º $$E({\bf{X}})=\sum_{k=1}^{\infty}x_{k}p_{k}$$
å¯¹äºè¿ç»­å‹éšæœºå˜é‡ï¼šè®¾è¿ç»­å‹éšæœºå˜é‡${\bf{X}}$çš„æ¦‚ç‡å¯†åº¦ä¸º$f(x)$ï¼Œè‹¥ç§¯åˆ† $$\int_{-\infty}^{\infty}xf(x)dx$$ç»å¯¹æ”¶æ•›ï¼Œåˆ™ç§°ç§¯åˆ†$\int_{-\infty}^{\infty}xf(x)dx$çš„å€¼ä¸ºéšæœºå˜é‡${\bf{X}}$çš„**æ•°å­¦æœŸæœ›**ï¼Œè®°ä¸º$$E({\bf{X}}) = \int_{-\infty}^{\infty}xf(x)dx$$

> æœŸæœ›çš„å‡ ä¸ªé‡è¦æ€§è´¨ï¼š
> - 1.è®¾$C$æ˜¯å¸¸æ•°ï¼Œæœ‰$E(C)=C$ã€‚
> - 2.è®¾${\bf{X}}$æ˜¯ä¸€ä¸ªéšæœºå˜é‡ï¼Œ$C$æ˜¯å¸¸æ•°ï¼Œåˆ™æœ‰$$E(C{\bf{X}})=CE({\bf{X}})$$
> - 3.è®¾${\bf{X}}, {\bf{Y}}$æ˜¯ä¸¤ä¸ªéšæœºå˜é‡ï¼Œåˆ™æœ‰$$E({\bf{X}+\bf{Y}}) = E({\bf{X}}) + E({\bf{Y}})$$
> - 4.è®¾${\bf{X}}, {\bf{Y}}$æ˜¯ç›¸äº’ç‹¬ç«‹çš„éšæœºå˜é‡ï¼Œåˆ™æœ‰$$E({\bf{XY}})=E({\bf{X}})E({\bf{Y}})$$

> å¸¸è§åˆ†å¸ƒçš„æ•°å­¦æœŸæœ›ï¼š
> - 1. 0-1åˆ†å¸ƒï¼š$E({\bf{X}})=p$
> - 2. äºŒé¡¹åˆ†å¸ƒï¼š$E({\bf{X}}) = np$
> - 3. æ³Šæ¾åˆ†å¸ƒï¼š$E({\bf{X}}) = \lambda$
> - 4. å‡åŒ€åˆ†å¸ƒï¼š$E({\bf{X}}) = \frac{a+b}{2}$
> - 5. æŒ‡æ•°åˆ†å¸ƒï¼š$E({\bf{X}}) = \frac{1}{\theta}$
> - 6. æ­£æ€åˆ†å¸ƒï¼š$E({\bf{X}}) = \mu$

* æ–¹å·®å’Œæ ‡å‡†å·®  
è®¾${\bf{X}}$æ˜¯ä¸€ä¸ªéšæœºå˜é‡ï¼Œè‹¥$E\{[{\bf{X}} - E({\bf{X}})]^{2}\}$å­˜åœ¨ï¼Œåˆ™ç§°$E\{[{\bf{X}} - E({\bf{X}})]^{2}\}$ä¸º${\bf{X}}$çš„**æ–¹å·®**ï¼Œè®°ä¸º$D({\bf{X}})æˆ–Var({\bf{X}})$ï¼Œå³$$D({\bf{X}})=Var({\bf{X}})=E\{[{\bf{X}} - E({\bf{X}})]^{2}\}$$ å¼•å…¥$\sqrt{D({\bf{X}})}$ï¼Œè®°ä¸º$\sigma{(\bf{X})}$ï¼Œç§°ä¸º**æ ‡å‡†å·®æˆ–å‡æ–¹å·®**ã€‚

> æ–¹å·®åŒ–ç®€è®¡ç®—å…¬å¼ï¼š$D({\bf{X}})=E({\bf{X}}^{2}) - [E({\bf{X}})]^{2}$

> æ–¹å·®çš„æ€§è´¨ï¼š
> - 1. è®¾$C$æ˜¯å¸¸æ•°ï¼Œåˆ™$D(C)=0$
> - 2. è®¾$\bf{X}$æ˜¯éšæœºå˜é‡ï¼Œ $C$æ˜¯å¸¸æ•°ï¼Œåˆ™$$D(C{\bf{X}})=C^{2}D({\bf{X}}), D({\bf{X}}+C)=D({\bf{X}})$$
> - 3. è®¾$\bf{X}, \bf{Y}$æ˜¯ä¸¤ä¸ªéšæœºå˜é‡ï¼Œåˆ™æœ‰$$D({\bf{X}}+{\bf{Y}}) = D({\bf{X}})+D({\bf{Y}}) + 2E\{({\bf{X}} - E({\bf{X}}))({\bf{Y}} - E({\bf{Y}}))\}$$ ç‰¹åˆ«åœ°ï¼Œè‹¥$\bf{X}, \bf{Y}$ç›¸äº’ç‹¬ç«‹ï¼Œåˆ™æœ‰$$D({\bf{X}}+{\bf{Y}}) = D({\bf{X}})+D({\bf{Y}})$$
> - 4. $D({\bf{X}})=0$çš„å……åˆ†å¿…è¦æ¡ä»¶æ˜¯${\bf{X}}$ä»¥æ¦‚ç‡$1$å–å¸¸æ•°$E({\bf{X}})$ï¼Œå³$$P\{{\bf{X}} = E({\bf{X}})\} = 1$$

> å¸¸è§åˆ†å¸ƒçš„æ–¹å·®ï¼š
> - 1. 0-1åˆ†å¸ƒï¼š$Var({\bf{X}}) = p(1-p)$
> - 2. äºŒé¡¹åˆ†å¸ƒï¼š$Var({\bf{X}}) = np(1-p)$
> - 3. æ³Šæ¾åˆ†å¸ƒï¼š$Var({\bf{X}}) = \lambda$
> - 4. å‡åŒ€åˆ†å¸ƒï¼š$Var({\bf{X}}) = \frac{(b-a)^{2}}{12}$
> - 5. æ­£æ€åˆ†å¸ƒï¼š$Var({\bf{X}}) = \sigma^2$
> - 6. æŒ‡æ•°åˆ†å¸ƒï¼š$Var({\bf{X}}) = \frac{1}{\theta^{2}}$

pythonä»£ç ï¼ˆåˆ©ç”¨scipy.statsåŒ…è®¡ç®—å¸¸è§åˆ†å¸ƒçš„å‡å€¼å’Œæ–¹å·®ï¼‰


```python
import numpy as np
from scipy.stats import bernoulli  # 0 - 1 åˆ†å¸ƒ
from scipy.stats import binom      # äºŒé¡¹åˆ†å¸ƒ
from scipy.stats import poisson    # æ³Šæ¾åˆ†å¸ƒ
from scipy.stats import uniform  # å‡åŒ€åˆ†å¸ƒ
from scipy.stats  import norm    # æ­£æ€åˆ†å¸ƒ
from scipy.stats import expon    # æŒ‡æ•°åˆ†å¸ƒ
from scipy.stats import rv_continuous # å»ºç«‹è‡ªå·±çš„åˆ†å¸ƒå‡½æ•°

print("0 - 1 åˆ†å¸ƒï¼ˆp=0.5ï¼‰çš„å‡å€¼ï¼š{}, æ–¹å·®ï¼š {}ï¼Œ æ ‡å‡†å·®ï¼š{}".format(bernoulli(p=0.5).mean(), 
                                            bernoulli(p=.5).var(), bernoulli(p=0.5).std()))
print("äºŒé¡¹åˆ†å¸ƒb(100, 0.5)çš„å‡å€¼ï¼š{}, æ–¹å·®ï¼š {}ï¼Œ æ ‡å‡†å·®ï¼š{}".format(binom(n=100, p=0.5).mean(), 
                                        binom(n=100, p=0.5).var(), binom(n=100, p=0.5).std()))
print("æ³Šæ¾åˆ†å¸ƒï¼ˆlambda=0.6ï¼‰çš„å‡å€¼ï¼š{}, æ–¹å·®ï¼š {}ï¼Œ æ ‡å‡†å·®ï¼š{}".format(poisson(0.6).mean(), poisson(0.6).var(), poisson(0.6).std()))
print("å‡åŒ€åˆ†å¸ƒ(1, 6)çš„å‡å€¼ï¼š{}, æ–¹å·®ï¼š {}ï¼Œ æ ‡å‡†å·®ï¼š{}".format(uniform(1, 5).mean(), uniform(1, 5).var(), uniform(1, 5).std()))
print("æ­£æ€åˆ†å¸ƒ(0, 0.1)çš„å‡å€¼ï¼š{}, æ–¹å·®ï¼š {}ï¼Œ æ ‡å‡†å·®ï¼š{}".format(norm(0, 0.1).mean(), norm(0, 0.1).var(), norm(0, 0.1).std()))
print("æŒ‡æ•°åˆ†å¸ƒ(theta = 5)çš„å‡å€¼ï¼š{}, æ–¹å·®ï¼š {}ï¼Œ æ ‡å‡†å·®ï¼š{}".format(expon(scale=1.0/5.0).mean(), expon(scale=1.0/5.0).var(), expon(scale=1.0/5.0).std()))

# åˆ©ç”¨rv_continuousåˆ›å»ºä¸€ä¸ªè‡ªå·±çš„åˆ†å¸ƒå‡½æ•°
class My_distribution(rv_continuous):
    def _cdf(self, x):
        return np.where(x>0., 1, 0)

example = My_distribution(name='example')
x= np.array([1, -1, 2, 3, 4, -1])
print("example(x=[1, -1, 2, 3, 4, -1])çš„å‡å€¼ï¼š{}, æ–¹å·®ï¼š {}ï¼Œ æ ‡å‡†å·®ï¼š{}".format(example(x).mean(), example(x).var(), example(x).std()))
```

    0 - 1 åˆ†å¸ƒï¼ˆp=0.5ï¼‰çš„å‡å€¼ï¼š0.5, æ–¹å·®ï¼š 0.25ï¼Œ æ ‡å‡†å·®ï¼š0.5
    äºŒé¡¹åˆ†å¸ƒb(100, 0.5)çš„å‡å€¼ï¼š50.0, æ–¹å·®ï¼š 25.0ï¼Œ æ ‡å‡†å·®ï¼š5.0
    æ³Šæ¾åˆ†å¸ƒï¼ˆlambda=0.6ï¼‰çš„å‡å€¼ï¼š0.6, æ–¹å·®ï¼š 0.6ï¼Œ æ ‡å‡†å·®ï¼š0.7745966692414834
    å‡åŒ€åˆ†å¸ƒ(1, 6)çš„å‡å€¼ï¼š3.5, æ–¹å·®ï¼š 2.083333333333333ï¼Œ æ ‡å‡†å·®ï¼š1.4433756729740643
    æ­£æ€åˆ†å¸ƒ(0, 0.1)çš„å‡å€¼ï¼š0.0, æ–¹å·®ï¼š 0.010000000000000002ï¼Œ æ ‡å‡†å·®ï¼š0.1
    æŒ‡æ•°åˆ†å¸ƒ(theta = 5)çš„å‡å€¼ï¼š0.2, æ–¹å·®ï¼š 0.04000000000000001ï¼Œ æ ‡å‡†å·®ï¼š0.2
    example(x=[1, -1, 2, 3, 4, -1])çš„å‡å€¼ï¼š[ 1. -1.  2.  3.  4. -1.], æ–¹å·®ï¼š [2.38155178e-29 2.38155178e-29 2.38155178e-29 2.38155178e-29
     2.38155178e-29 2.38155178e-29]ï¼Œ æ ‡å‡†å·®ï¼š[4.88011452e-15 4.88011452e-15 4.88011452e-15 4.88011452e-15
     4.88011452e-15 4.88011452e-15]
    

* åˆ†ä½æ•°ä¸ä¸­ä½æ•°ï¼ˆè¿ç»­å‹éšæœºå˜é‡ï¼‰  
è®¾è¿ç»­éšæœºå˜é‡ $X$ çš„åˆ†å¸ƒå‡½æ•°ä¸º $F(x)$ï¼Œå¯†åº¦å‡½æ•°ä¸º $p(x)$ã€‚ å¯¹ä»»æ„ $p \in(0,1)$ï¼Œ ç§°æ»¡è¶³æ¡ä»¶
$$F\left(x_{p}\right)=\int_{-\infty}^{x_{p}} p(x) \mathrm{d} x=p$$
çš„ $x_{p}$ ä¸ºæ­¤åˆ†å¸ƒçš„ $p$ **åˆ†ä½æ•°**ï¼Œ åˆç§°ä¸‹ä¾§ $p$ åˆ†ä½æ•°ã€‚

![](figures/08.jpg)

åˆ†ä½æ•°ä¸ä¸Šä¾§åˆ†ä½æ•°æ˜¯å¯ä»¥ç›¸äº’è½¬æ¢çš„ï¼Œ å…¶è½¬æ¢å…¬å¼ä¸ºï¼š$x_{p}^{\prime}=x_{1-p}, \quad x_{p}=x_{1-p}^{\prime}$


**ä¸­ä½æ•°å°±æ˜¯p=0.5æ—¶çš„åˆ†ä½æ•°ç‚¹**ï¼Œè®¾è¿ç»­éšæœºå˜é‡ $X$ çš„åˆ†å¸ƒå‡½æ•°ä¸º $F(x)$ï¼Œ å¯†åº¦å‡½æ•°ä¸º $p(x)$ã€‚ ç§° $p=0.5$ æ—¶çš„ $p$ åˆ†ä½æ•° $x_{0.5}$ ä¸ºæ­¤åˆ†å¸ƒçš„ä¸­ä½æ•°ï¼Œå³ $x_{0.5}$ æ»¡è¶³$$F\left(x_{0.5}\right)=\int_{-\infty}^{x_{0.5}} p(x) \mathrm{d} x=0.5$$

pythonä»£ç ï¼ˆè®¡ç®—æ ‡å‡†æ­£æ€åˆ†å¸ƒçš„0.25ï¼Œ0.5ï¼ˆä¸­ä½æ•°ï¼‰ï¼Œ0.75ï¼Œ0.95åˆ†ä½æ•°ç‚¹ã€‚ï¼‰


```python
from scipy.stats import norm

print("æ ‡å‡†æ­£æ€åˆ†å¸ƒï¼ˆ0ï¼Œ1ï¼‰çš„0.25åˆ†ä½æ•°ç‚¹ï¼š{}".format(norm.ppf(0.25))) 
print("æ ‡å‡†æ­£æ€åˆ†å¸ƒï¼ˆ0ï¼Œ1ï¼‰çš„0.5åˆ†ä½æ•°ç‚¹ï¼š{}".format(norm.ppf(0.5)))
print("æ ‡å‡†æ­£æ€åˆ†å¸ƒï¼ˆ0ï¼Œ1ï¼‰çš„0.75åˆ†ä½æ•°ç‚¹ï¼š{}".format(norm.ppf(0.75)))
print("æ ‡å‡†æ­£æ€åˆ†å¸ƒï¼ˆ0ï¼Œ1ï¼‰çš„0.95åˆ†ä½æ•°ç‚¹ï¼š{}".format(norm.ppf(0.95)))
```

    æ ‡å‡†æ­£æ€åˆ†å¸ƒï¼ˆ0ï¼Œ1ï¼‰çš„0.25åˆ†ä½æ•°ç‚¹ï¼š-0.6744897501960817
    æ ‡å‡†æ­£æ€åˆ†å¸ƒï¼ˆ0ï¼Œ1ï¼‰çš„0.5åˆ†ä½æ•°ç‚¹ï¼š0.0
    æ ‡å‡†æ­£æ€åˆ†å¸ƒï¼ˆ0ï¼Œ1ï¼‰çš„0.75åˆ†ä½æ•°ç‚¹ï¼š0.6744897501960817
    æ ‡å‡†æ­£æ€åˆ†å¸ƒï¼ˆ0ï¼Œ1ï¼‰çš„0.95åˆ†ä½æ•°ç‚¹ï¼š1.6448536269514722
    

# 1.5 å¤šç»´éšæœºå˜é‡åŠå…¶è”åˆåˆ†å¸ƒã€è¾¹é™…åˆ†å¸ƒã€æ¡ä»¶åˆ†å¸ƒ

* å¤šç»´éšæœºå˜é‡ï¼šè‹¥éšæœºå˜é‡ $X_{1}(\omega), X_{2}(\omega), \cdots, X_{n}(\omega)$ å®šä¹‰åœ¨åŒä¸€ä¸ªåŸºæœ¬ç©ºé—´ $\Omega=\{\omega\}$ ä¸Šï¼Œ åˆ™ç§°
$$\boldsymbol{X}(\omega)=\left(X_{1}(\omega), X_{2}(\omega), \cdots, X_{n}(\omega)\right)$$
æ˜¯ä¸€ä¸ªå¤šç»´éšæœºå˜é‡ï¼Œä¹Ÿç§°ä¸ºnç»´éšæœºå‘é‡ã€‚

* å¤šç»´éšæœºå˜é‡è”åˆåˆ†å¸ƒå‡½æ•°ï¼šè®¾ $X=\left(X_{1}, X_{2}, \cdots, X_{n}\right)$ æ˜¯ $n$ ç»´éšæœºå˜é‡ï¼Œ å¯¹ä»»æ„ $n$ ä¸ªå®æ•° $x_{1}, x_{2}, \cdots, x_{n}$ æ‰€ç»„æˆçš„ $n$ ä¸ªäº‹ä»¶ $X_{1} \leqslant x_{1},X_{2} \leqslant x_{2} , \cdots, X_{n} \leqslant x_{n} $ åŒæ—¶å‘ç”Ÿçš„æ¦‚ç‡
$$F\left(x_{1}, x_{2}, \cdots, x_{n}\right)=P\left(X_{1} \leqslant x_{1}, X_{2} \leqslant x_{2}, \cdots, X_{n} \leqslant x_{n}\right)$$
ç§°ä¸º $n$ ç»´éšæœºå˜é‡ $\boldsymbol{X}$ çš„**è”åˆåˆ†å¸ƒå‡½æ•°**ã€‚

*  å¤šç»´éšæœºå˜é‡è”åˆæ¦‚ç‡å¯†åº¦å‡½æ•°ï¼šè®¾$n$ç»´éšæœºå˜é‡ $X=\left(X_{1}, X_{2}, \cdots, X_{n}\right)$ çš„åˆ†å¸ƒå‡½æ•°ä¸º $F(x_{1}, x_{2}, \cdots, x_{n})$ ã€‚å‡å¦‚å„åˆ†é‡ $x_{1}, x_{2}, \cdots, x_{n}$ éƒ½æ˜¯ä¸€ç»´è¿ç»­éšæœºå˜é‡ï¼Œå¹¶å­˜åœ¨å®šä¹‰åœ¨ç©ºé—´ä¸Šçš„éè´Ÿå‡½æ•° $p(x_{1}, x_{2}, \cdots, x_{n})$ï¼Œä½¿å¾—
$$F(x, y)=\int_{-\infty}^{x_{1}} \int_{-\infty}^{x_{2}}\cdots \int_{-\infty}^{x_{n}} p(x_{1}, x_{2}, \cdots, x_{n}) d x_{1}dx_{2}\cdots dx_{n}$$
åˆ™ç§° $X=\left(X_{1}, X_{2}, \cdots, X_{n}\right)$ ä¸º$n$ç»´è¿ç»­éšæœºå˜é‡ï¼Œ$p(x_{1}, x_{2}, \cdots, x_{n})$ ç§°ä¸º $X=\left(X_{1}, X_{2}, \cdots, X_{n}\right)$ çš„**è”åˆæ¦‚ç‡å¯†åº¦å‡½æ•°**ï¼Œ æˆ–ç®€ç§°è”åˆå¯†åº¦ã€‚

* ç‰¹ä¾‹ï¼š**äºŒç»´éšæœºå˜é‡**    
äºŒç»´éšæœºå˜é‡çš„åˆ†å¸ƒå‡½æ•°ï¼šè®¾$(X, Y)$æ˜¯äºŒç»´éšæœºå˜é‡ï¼Œå¯¹äºä»»æ„å®æ•°$x, y$ï¼ŒäºŒå…ƒå‡½æ•°ï¼š
$$F(x, y)=P\{X\le x, Y \le y\}$$ 
ç§°ä¸ºäºŒç»´éšæœºå˜é‡$(X, Y)$çš„**åˆ†å¸ƒå‡½æ•°**ï¼Œæˆ–ç§°ä¸ºéšæœºå˜é‡$(X, Y)$çš„**è”åˆåˆ†å¸ƒå‡½æ•°**ã€‚

> åˆ†å¸ƒå‡½æ•°çš„æ€§è´¨ï¼š
> - 1. $F(x, y)$æ˜¯$x, y$çš„ä¸å‡å‡½æ•°
> - 2. $0 \le F(x, y) \le 1$ï¼Œä¸”$$\begin{aligned}&å¯¹äºä»»æ„å›ºå®šçš„y, F(-\infty, y) = 0\\&å¯¹äºä»»æ„å›ºå®šçš„x, F(x, -\infty)=0\\&F(-\infty, -\infty)=0, F(\infty, \infty)=1\end{aligned}$$
> - 3. $F(x+0, y)=F(x, y), F(x, y+0)=F(x, y)$ï¼Œå³$F(x, y)$å…³äº$x, y$åˆ†åˆ«å³è¿ç»­
> - 4. å¯¹äºä»»æ„çš„$(x_{1}, y_{1}), (x_{2}, y_{2}), x_{1} < x_{2}, y_{1} < y_{2}$ï¼Œæœ‰ä¸ç­‰å¼$$F(x_{2},y_{2}) - F(x_{2}, y_{1}) + F(x_{1}, y_{1}) - F(x_{1}, y_{2}) \ge 0$$æ’æˆç«‹

&emsp;&emsp;äºŒç»´éšæœºå˜é‡çš„æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼šå¯¹äºäºŒç»´éšæœºå˜é‡$(X, Y)$çš„åˆ†å¸ƒå‡½æ•°$F(x, y)$ï¼Œå¦‚æœå­˜åœ¨éè´Ÿå¯ç§¯å‡½æ•°$f(x, y)$ï¼Œä½¿å¯¹äºä»»æ„$x, y$æœ‰
$$F(x, y) = \int_{-\infty}^{y}\int_{-\infty}^{x}f(u, v)dudv$$ 
åˆ™ç§°$(X, Y)$æ˜¯è¿ç»­å‹çš„äºŒç»´éšæœºå˜é‡ï¼Œå‡½æ•°$f(x, y)$ç§°ä¸ºäºŒç»´éšæœºå˜é‡$(X, Y)$çš„æ¦‚ç‡å¯†åº¦ï¼Œæˆ–ç§°ä¸ºéšæœºå˜é‡$Xå’ŒY$çš„è”åˆæ¦‚ç‡å¯†åº¦ã€‚

> è”åˆæ¦‚ç‡å¯†åº¦$f(x, y)$çš„æ€§è´¨ï¼š
> - 1. $f(x, y) \ ge 0$ 
> - 2. $\int_{-\infty}^{\infty}\int_{-\infty}^{\infty}f(x, y)dxdy = 1$
> - 3. è‹¥$f(x, y)$åœ¨ç‚¹$(x, y)$è¿ç»­ï¼Œåˆ™æœ‰$$\frac{\partial^{2} F(x, y)}{\partial x\partial y} = f(x, y)$$
> - 4. è®¾$G$æ˜¯$xOy$å¹³é¢ä¸Šçš„åŒºåŸŸï¼Œç‚¹$(X, Y)$è½åœ¨$G$å†…çš„æ¦‚ç‡ä¸ºï¼š$$P\{(X, Y) \in G\} = \iint\limits_{G}f(x, y)dxdy$$

pythonä»£ç ï¼ˆç»˜åˆ¶äºŒç»´æ¦‚ç‡å¯†åº¦å‡½æ•°å›¾åƒï¼‰[ä»£ç å‚è€ƒ](https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.multivariate_normal.html#scipy.stats.multivariate_normal)


```python
import numpy as np
from scipy import stats
from mpl_toolkits.mplot3d import axes3d
import matplotlib.pyplot as plt

x, y = np.mgrid[-5:5:0.01, -5:5:0.01]
pos = np.dstack((x, y))
rv = stats.multivariate_normal([0.5, -0.2], [[2.0, 0.3], [0.3, 0.5]])
z = rv.pdf(pos)
# æ›²é¢å›¾
plt.figure('Surface', facecolor='lightgray', figsize=(12, 8))
ax = plt.axes(projection='3d')
ax.set_xlabel('x', fontsize=14)
ax.set_ylabel('y', fontsize=14)
ax.set_zlabel('f(x, y)', fontsize = 14)
ax.plot_surface(x, y, z, rstride=50, cstride=50, cmap='jet')
plt.show()
# ç­‰é«˜çº¿å›¾
fig2 = plt.figure(figsize=(8,6))
ax2 = fig2.add_subplot(111)
ax2.contourf(x, y, rv.pdf(pos), rstride=50, cstride=50, cmap='jet')
plt.show()
```


    
![png](img/output_57_0.png)
    


    C:\Users\13541\AppData\Local\Temp\ipykernel_11684\2054532681.py:21: UserWarning: The following kwargs were not used by contour: 'rstride', 'cstride'
      ax2.contourf(x, y, rv.pdf(pos), rstride=50, cstride=50, cmap='jet')
    


    
![png](img/output_57_2.png)
    


* è¾¹é™…ï¼ˆè¾¹ç¼˜ï¼‰åˆ†å¸ƒï¼š  
äºŒç»´éšæœºå˜é‡$(X, Y)$ä½œä¸ºä¸€ä¸ªæ•´ä½“ï¼Œå…·æœ‰åˆ†å¸ƒå‡½æ•°$F(x, y)$ï¼Œ$Xå’ŒY$éƒ½æ˜¯éšæœºå˜é‡ï¼Œä»–ä»¬ä¹Ÿæœ‰è‡ªå·±çš„åˆ†å¸ƒå‡½æ•°ï¼Œåˆ†åˆ«è®°ä¸º$F_{X}(x), F_{Y}(y)$ï¼Œä¾æ¬¡ä¸ºéšæœºå˜é‡$(X, Y)$å…³äº$X$å’Œå…³äº$Y$çš„**è¾¹ç¼˜åˆ†å¸ƒå‡½æ•°** $$F_{X}(x)=P\{X\le x\}=P\{X\le x, Y < \infty\}=F(x, \infty)$$å³$F_{X}(x)=F(x, \infty)$ï¼ŒåŒç†$$F_{Y}(y)=F(\infty, y)$$
å¯¹äºè¿ç»­å‹éšæœºå˜é‡$(X, Y)$ï¼Œè®¾å®ƒçš„æ¦‚ç‡å¯†åº¦å‡½æ•°ä¸º$f(x, y)$ï¼Œç”±äº $$F_{X}(x)=F(x, \infty)=\int_{-\infty}^{x}[\int_{-\infty}^{\infty}f(x, y)dy]dx$$åˆ™éšæœºå˜é‡$X$çš„**æ¦‚ç‡å¯†åº¦å‡½æ•°**ä¸ºï¼š$f_{X}(x)=\int_{-\infty}^{\infty}f(x, y)dy$  
åŒç†ï¼Œéšæœºå˜é‡$Y$çš„**æ¦‚ç‡å¯†åº¦å‡½æ•°**ä¸ºï¼š$f_{Y}(y)=\int_{-\infty}^{\infty}f(x, y)dx$

pythonä»£ç ï¼ˆå·²çŸ¥è”åˆåˆ†å¸ƒæ±‚è¾¹ç¼˜åˆ†å¸ƒï¼‰


```python
from sympy import *

x, y = symbols('x, y')
fxy = 1
pxy = Piecewise((fxy, And(x > 0, x < 1, y > -x, y < x)), (0, True))
fXx = integrate(pxy, (y, -oo, oo))
pprint("å…³äºéšæœºå˜é‡Xçš„è¾¹ç¼˜å¯†åº¦å‡½æ•°ä¸ºï¼š{}".format(fXx))
fYy = integrate(pxy, (x, -oo, oo))
pprint("å…³äºéšæœºå˜é‡Yçš„è¾¹ç¼˜å¯†åº¦å‡½æ•°ä¸ºï¼š{}".format(fYy))
```

    å…³äºéšæœºå˜é‡Xçš„è¾¹ç¼˜å¯†åº¦å‡½æ•°ä¸ºï¼šPiecewise((x + Max(-x, x), (x > 0) & (x < 1)), (0, True))
    å…³äºéšæœºå˜é‡Yçš„è¾¹ç¼˜å¯†åº¦å‡½æ•°ä¸ºï¼š-Max(0, -y, y) + Max(1, -y, y)
    

&emsp;&emsp;**è¾¹é™…ï¼ˆè¾¹ç¼˜ï¼‰åˆ†å¸ƒåˆ—**ï¼šåœ¨äºŒç»´ç¦»æ•£éšæœºå˜é‡ $(X, Y)$ çš„è”åˆåˆ†å¸ƒåˆ— $\left\{P\left(X=x_{i}, Y=y_{j}\right)\right\}$ ä¸­ï¼Œ å¯¹ $j$ æ±‚å’Œæ‰€å¾—çš„åˆ†å¸ƒåˆ—$$\sum_{j=1}^{\infty} P\left(X=x_{i}, Y=y_{j}\right)=P\left(X=x_{i}\right), \quad i=1,2, \cdots$$ 
&emsp;&emsp;è¢«ç§°ä¸º $X$ çš„è¾¹é™…åˆ†å¸ƒåˆ—ã€‚ ç±»ä¼¼åœ°ï¼Œ å¯¹ $i$ æ±‚å’Œæ‰€å¾—çš„åˆ†å¸ƒåˆ— $$\sum_{i=1}^{\infty} P\left(X=x_{i}, Y=y_{j}\right)=P\left(Y=y_{j}\right), \quad j=1,2, \cdots$$ 
&emsp;&emsp;è¢«ç§°ä¸º $Y$ çš„è¾¹é™…åˆ†å¸ƒåˆ—ã€‚

* æ¡ä»¶åˆ†å¸ƒï¼šç”±æ¡ä»¶æ¦‚ç‡å¼•å‡ºæ¡ä»¶æ¦‚ç‡åˆ†å¸ƒã€‚     
è®¾$(X, Y)$æ˜¯äºŒç»´ç¦»æ•£å‹éšæœºå˜é‡ï¼Œå…¶åˆ†å¸ƒå¾‹ä¸º$$P\{X=x_{i}, Y=y_{j}\}=p_{ij}, i,j=1,2,\cdots .$$ $(X, Y)$å…³äº$X$å’Œå…³äº$Y$çš„è¾¹ç¼˜åˆ†å¸ƒåˆ†åˆ«ä¸º
$$\begin{aligned}& P\{X=x_{i}\}=p_{i}=\sum_{j=1}^{\infty}p_{ij}, i=1,2,\cdots .\\&P\{Y=y_{j}\}=p_{j}=\sum_{i=1}^{\infty}p_{ij}, j=1,2,\cdots . \end{aligned}$$
è®¾$P_{\cdot j} > 0$ï¼Œè€ƒè™‘åœ¨äº‹ä»¶$\{Y=y_{j}\}$å·²å‘ç”Ÿçš„æ¡ä»¶ä¸‹äº‹ä»¶$\{X=x_{i}\}$å‘ç”Ÿçš„æ¦‚ç‡ï¼Œç”±æ¡ä»¶æ¦‚ç‡å…¬å¼å¾—$$P\{X=x_{i}|Y=y_{j}\} = \frac{P\{X=x_{i}, Y=y_{j}\}}{P\{Y=y_{j}\}} = \frac{p_{ij}}{p_{\cdot j}}, i=1,2,\cdots .$$ä¸Šå¼ç§°ä¸ºåœ¨$Y=y_{j}$æ¡ä»¶ä¸‹éšæœºå˜é‡$X$å¾—**æ¡ä»¶åˆ†å¸ƒç‡**ï¼ŒåŒç†$$P\{Y=y_{j}|X=x_{i}\} = \frac{P\{Y=y_{j}, X=x_{i}\}}{P\{X=x_{i}\}} = \frac{p_{ij}}{p_{i \cdot}}, i=1,2,\cdots .$$ç§°ä¸ºåœ¨$X=x_{i}$æ¡ä»¶ä¸‹éšæœºå˜é‡$Y$å¾—**æ¡ä»¶åˆ†å¸ƒç‡**

> æ¡ä»¶åˆ†å¸ƒå¾—æ€§è´¨ï¼š
> - 1. $$P\{X=x_{i}|Y=y_{j}\} \ge 0$$
> - 2. $$\sum_{i=1}^{\infty}P\{X=x_{i}|Y=y_{j}\} = \sum_{i=1}^{\infty}\frac{p_{ij}}{p_{\cdot j}} =\frac{1} {p_{\cdot j}}\sum_{i=1}^{\infty}p_{ij} = \frac{p_{\cdot j}}{p_{\cdot j}} = 1$$

&emsp;&emsp;è¿ç»­å‹éšæœºå˜é‡æ¡ä»¶åˆ†å¸ƒï¼š    
è®¾äºŒç»´éšæœºå˜é‡$(X, Y)$å¾—æ¦‚ç‡å¯†åº¦ä¸º$f(x, y)$ï¼Œ$(X, Y)$å…³äº$Y$å¾—è¾¹ç¼˜æ¦‚ç‡å¯†åº¦ä¸º$f_{Y}(y)$. è‹¥å¯¹äºå›ºå®šå¾—$y, f_{Y}(y) > 0$ï¼Œåˆ™ç§°$\frac{f(x, y)}{f_{Y}(y)}$ä¸ºåœ¨$Y = y$æ¡ä»¶ä¸‹$X$çš„**æ¡ä»¶æ¦‚ç‡å¯†åº¦å‡½æ•°**ï¼Œè®°ä¸º
$$f_{X|Y}(x|y) = \frac{f(x, y)}{f_{Y}(y)}$$
ç§°$\int_{-\infty}^{x}f_{X|Y}(x|y)dx = \int_{-\infty}^{x}\frac{f(x, y)}{f_{Y}(y)}dx$ä¸ºåœ¨$Y = y$æ¡ä»¶ä¸‹$X$çš„**æ¡ä»¶åˆ†å¸ƒå‡½æ•°**ï¼Œè®°ä¸º$P\{X\le x|Y =y\}æˆ–F_{X|Y}(x|y)$ï¼Œå³
$$F_{X|Y}(x|y)=P\{X\le x|Y =y\}=\int_{-\infty}^{x}\frac{f(x, y)}{f_{Y}(y)}dx.$$

> è¿ç»­éšæœºå˜é‡çš„è´å¶æ–¯å…¬å¼å’Œå…¨æ¦‚ç‡å…¬å¼ï¼š
> - 1. å…¨æ¦‚ç‡å…¬å¼$$\begin{aligned}&p_{Y}(y)=\int_{-\infty}^{\infty} p_{X}(x) p(y \mid x) \mathrm{d} x, \\&p_{\chi}(x)=\int_{-\infty}^{\infty} p_{Y}(y) p(x \mid y) \mathrm{d} y .\end{aligned}$$
> - 2. è´å¶æ–¯å…¬å¼$$\begin{aligned}&p(x \mid y)=\frac{p_{X}(x) p(y \mid x)}{\int_{-\infty}^{\infty} p_{X}(x) p(y \mid x) \mathrm{d} x},\\&p(y \mid x)=\frac{p_{Y}(y) p(x \mid y)}{\int_{-\infty}^{\infty} p_{Y}(y) p(x \mid y) \mathrm{d} y} .\end{aligned}$$

pythonä»£ç (æ±‚è§£è¾¹é™…åˆ†å¸ƒåˆ—)ï¼šè®¾åœ¨ä¸€æ®µæ—¶é—´å†…è¿›äººæŸä¸€å•†åº—çš„é¡¾å®¢äººæ•° $X$ æœä»æ³Šæ¾åˆ†å¸ƒ $P(\lambda)$ï¼Œ æ¯ä¸ªé¡¾å®¢è´­ä¹°æŸç§ç‰©å“çš„æ¦‚ç‡ä¸º $p$, å¹¶ä¸”å„ä¸ªé¡¾å®¢æ˜¯å¦è´­ä¹°è¯¥ç§ç‰©å“ç›¸äº’ç‹¬ç«‹ï¼Œ æ±‚è¿›å…¥å•†åº—çš„é¡¾å®¢è´­ä¹°è¿™ç§ç‰©å“çš„äººæ•° $Y$ çš„åˆ†å¸ƒåˆ—ã€‚


```python
from sympy import *
from sympy.abc import lamda, k, m, x, y, p    # ä»£æ›¿symbols("lamda, k, m, x, y") 
Pxk = (lamda ** k * exp(- lamda)) / factorial(k)
print("è¿›å…¥å•†åº—äººæ•°(k)çš„æ¦‚ç‡åˆ†å¸ƒP(X=k) = {}".format(Pxk))
Pyx = (factorial(k) / (factorial(m) * factorial(k-m))) * (p ** m) * ((1 - p) ** (k - m))
print("åœ¨è¿›å…¥å•†åº—äººæ•°ï¼ˆkï¼‰ç¡®å®šçš„æ¡ä»¶ä¸‹ï¼Œå®¢æˆ·ä¹°æŸç§å•†å“äººæ•°çš„æ¡ä»¶åˆ†å¸ƒP(Y=m|X =k)={}".format(Pyx))
f = Pxk * Pyx
Py = summation(f, (k, m, oo))
print("è¿›å…¥å•†åº—çš„é¡¾å®¢è´­ä¹°è¿™ç§å•†å“äººæ•°Yçš„åˆ†å¸ƒåˆ—P(Y=m)={}".format(Py))
Py
```

    è¿›å…¥å•†åº—äººæ•°(k)çš„æ¦‚ç‡åˆ†å¸ƒP(X=k) = lamda**k*exp(-lamda)/factorial(k)
    åœ¨è¿›å…¥å•†åº—äººæ•°ï¼ˆkï¼‰ç¡®å®šçš„æ¡ä»¶ä¸‹ï¼Œå®¢æˆ·ä¹°æŸç§å•†å“äººæ•°çš„æ¡ä»¶åˆ†å¸ƒP(Y=m|X =k)=p**m*(1 - p)**(k - m)*factorial(k)/(factorial(m)*factorial(k - m))
    è¿›å…¥å•†åº—çš„é¡¾å®¢è´­ä¹°è¿™ç§å•†å“äººæ•°Yçš„åˆ†å¸ƒåˆ—P(Y=m)=lamda**m*p**m*exp(-lamda)*exp(-lamda*(p - 1))/factorial(m)
    




$\displaystyle \frac{\lambda^{m} p^{m} e^{- \lambda} e^{- \lambda \left(p - 1\right)}}{m!}$



## 1.6 å¤šç»´éšæœºå˜é‡çš„æ•°å­—ç‰¹å¾ï¼šæœŸæœ›å‘é‡ã€åæ–¹å·®ä¸åæ–¹å·®çŸ©é˜µã€ç›¸å…³ç³»æ•°ä¸ç›¸å…³ç³»æ•°çŸ©é˜µ

* æœŸæœ›å‘é‡   
è®° $n$ ç»´éšæœºå‘é‡ä¸º $\boldsymbol{X}=\left(X_{1}, X_{2}, \cdots, X_{n}\right)^{T}$, è‹¥å…¶æ¯ä¸ªåˆ†é‡çš„æ•°å­¦æœŸæœ›éƒ½å­˜åœ¨ï¼Œ åˆ™ç§°
$$E(\boldsymbol{X})=\left(E\left(X_{1}\right), E\left(X_{2}\right), \cdots, E\left(X_{n}\right)\right)^{T}$$
ä¸º $n$ ç»´éšæœºå‘é‡ $\boldsymbol{X}$ çš„æ•°å­¦æœŸæœ›å‘é‡ï¼ˆä¸€èˆ¬ä¸ºåˆ—å‘é‡ï¼‰ï¼Œ ç®€ç§°ä¸º $\boldsymbol{X}$ çš„æ•°å­¦æœŸæœ›ã€‚

* åæ–¹å·®ä¸åæ–¹å·®çŸ©é˜µ   
&emsp;&emsp;åæ–¹å·®ï¼š$\operatorname{Cov}(X, Y)=E[(X-E(X))(Y-E(Y))]$  ï¼Œè¡¡é‡çš„æ˜¯ä¸¤ä¸ªéšæœºå˜é‡ä¹‹é—´çš„ç›¸äº’å…³è”çš„ç¨‹åº¦
1. å½“ $\operatorname{Cov}(X, Y)>0$ æ—¶ï¼Œ ç§° $X$ ä¸ $Y$ æ­£ç›¸å…³ï¼Œ è¿™æ—¶ä¸¤ä¸ªåå·® $(X-E(X))$ ä¸ $(Y-E(Y))$ æœ‰**åŒæ—¶å¢åŠ æˆ–åŒæ—¶å‡å°‘çš„å€¾å‘**ã€‚ ç”±äº $E(X)$ ä¸ $E(Y)$ éƒ½æ˜¯å¸¸æ•°ï¼Œ æ•…ç­‰ä»·äº $X$ ä¸ $Y$ æœ‰åŒæ—¶å¢åŠ æˆ–åŒæ—¶å‡å°‘çš„å€¾å‘ã€‚
2. å½“ $\operatorname{Cov}(X, Y)<0$ æ—¶ï¼Œ ç§° $X$ ä¸ $Y$ è´Ÿç›¸å…³, è¿™æ—¶**æœ‰ $X$ å¢åŠ è€Œ $Y$ å‡å°‘çš„å€¾å‘ï¼Œ æˆ–æœ‰ $Y$ å¢åŠ è€Œ $X$ å‡å°‘çš„å€¾å‘**ã€‚
3. å½“ $\operatorname{Cov}(X, Y)=0$ æ—¶ï¼Œç§° $X$ ä¸ $Y$ ä¸ç›¸å…³ã€‚ è¿™æ—¶å¯èƒ½ç”±ä¸¤ç±»æƒ…å†µå¯¼è‡´:ä¸€ç±»æ˜¯ $X$ ä¸ $Y$ çš„å–å€¼æ¯«æ— å…³è”ï¼Œ å¦ä¸€ç±»æ˜¯ $X$ ä¸ $Y$ é—´å­˜æœ‰æŸç§éçº¿æ€§å…³ç³»ã€‚

> åæ–¹å·®$\operatorname{Cov}(X, Y)$çš„æ€§è´¨ï¼š
> - 1. $\operatorname{Cov}(X, Y)=E(X Y)-E(X) E(Y)$
> - 2. è‹¥éšæœºå˜é‡ $X$ ä¸ $Y$ ç›¸äº’ç‹¬ç«‹ï¼Œ åˆ™ $\operatorname{Cov}(X, Y)=0$ï¼Œ åä¹‹ä¸æˆç«‹ã€‚
> - 3. ï¼ˆæœ€é‡è¦ï¼‰å¯¹ä»»æ„äºŒç»´éšæœºå˜é‡ $(X, Y)$ï¼Œ æœ‰$$\operatorname{Var}(X \pm Y)=\operatorname{Var}(X)+\operatorname{Var}(Y) \pm 2 \operatorname{Cov}(X, Y)$$ è¯¥æ€§è´¨è¡¨æ˜: åœ¨ $X$ ä¸ $Y$ ç›¸å…³çš„åœºåˆ,å’Œçš„æ–¹å·®ä¸ç­‰äºæ–¹å·®çš„å’Œã€‚ $X$ ä¸ $Y$ çš„æ­£ç›¸å…³ä¼šå¢åŠ å’Œçš„æ–¹å·®,è´Ÿç›¸å…³ä¼šå‡å°‘å’Œçš„æ–¹å·®ï¼Œè€Œåœ¨ $X$ ä¸ $Y$ ä¸ç›¸å…³çš„åœºåˆï¼Œå’Œçš„æ–¹å·®ç­‰äºæ–¹å·®çš„å’Œï¼Œå³ï¼š**è‹¥ $X$ ä¸ $Y$ ä¸ç›¸å…³**ï¼Œ åˆ™ $\operatorname{Var}(X \pm Y)=\operatorname{Var}(X)+\operatorname{Var}(Y)$ã€‚
> - 4. åæ–¹å·® $\operatorname{Cov}(X, Y)$ çš„è®¡ç®—ä¸ $X, Y$ çš„æ¬¡åºæ— å…³ï¼Œ å³ $$\operatorname{Cov}(X, Y)=\operatorname{Cov}(Y, X) $$
> - 5. ä»»æ„éšæœºå˜é‡ $X$ ä¸å¸¸æ•° $a$ çš„åæ–¹å·®ä¸ºé›¶ï¼Œå³ $$\operatorname{Cov}(X, a)=0$$
> - 6. å¯¹ä»»æ„å¸¸æ•° $a, b$ï¼Œ æœ‰ $$\operatorname{Cov}(a X, b Y)=a b \operatorname{Cov}(X, Y) $$
> - 7. è®¾ $X, Y, Z$ æ˜¯ä»»æ„ä¸‰ä¸ªéšæœºå˜é‡,åˆ™ $$\operatorname{Cov}(X+Y, Z)=\operatorname{Cov}(X, Z)+\operatorname{Cov}(Y, Z)$$

ğŸ”¥ä¾‹é¢˜ï¼šè®¾éšæœºå˜é‡$(X, Y)$æ—¢æœ‰æ¦‚ç‡å¯†åº¦
$$
f(x, y)= \left \{
\begin{aligned}
     &\frac{1}{8}(x+y) ,  &0 \le x \le 2, 0 \le y \le 2\\
     &0,   &å…¶å®ƒ
\end{aligned}
    \right.
$$
æ±‚$E(X), E(Y), E(XY), Cov(X, Y), D(X+Y)$

âœ¨è§£ï¼š
$$
\begin{aligned}
&E(X) = \int_{-\infty}^{\infty}\int_{-\infty}^{\infty}xf(x, y)dxdy \\
&E(Y) = \int_{-\infty}^{\infty}\int_{-\infty}^{\infty}yf(x, y)dxdy  \\
&E(XY) = \int_{-\infty}^{\infty}\int_{-\infty}^{\infty}xyf(x, y)dxdy   \\
&Cov(X, Y) = E(XY) - E(X)E(Y)       \\
&D(X+Y) = D(X) + D(Y) + 2Cov(X, Y) = E(X^{2}) - [E(X)]^{2} + E(Y^{2}) - [E(Y)]^{2} + 2Cov(X, Y)
\end{aligned}
$$

pythonä»£ç (æ±‚è§£ä¾‹é¢˜)


```python
from sympy import *
from sympy.abc import x, y 
f = (1 / 8) * (x + y)
fxy = Piecewise((f, And(x >= 0, x <= 2, y >= 0, y <= 2)), (0, True))
Ex = integrate(x * fxy, (x, -oo, oo), (y, -oo, oo))
print("E(X) = {}".format(Ex))
Ey = integrate(y * fxy, (x, -oo, oo), (y, -oo, oo))
print("E(Y) = {}".format(Ey))
Exy = integrate(x * y * fxy, (x, -oo, oo), (y, -oo, oo))
print("E(XY) = {}".format(Exy))
cov_xy = Exy - Ex * Ey 
print("Cov(X, Y) = {}".format(cov_xy))
Ex_2 = integrate(x ** 2 * fxy, (x, -oo, oo), (y, -oo, oo))
Ey_2 = integrate(y ** 2 * fxy, (x, -oo, oo), (y, -oo, oo))
Dx_y = Ex_2 - (Ex ** 2) + Ey_2 - (Ey ** 2) + 2 * cov_xy
print("D(X + Y) = {}".format(Dx_y))
```

    E(X) = 1.16666666666667
    E(Y) = 1.16666666666667
    E(XY) = 1.33333333333333
    Cov(X, Y) = -0.0277777777777775
    D(X + Y) = 0.555555555555557
    

&emsp;&emsp;åæ–¹å·®çŸ©é˜µï¼šè®¾$n$ ç»´éšæœºå‘é‡ä¸º $\boldsymbol{X}=\left(X_{1}, X_{2}, \cdots, X_{n}\right)^{\prime}$çš„æœŸæœ›å‘é‡ä¸ºï¼š
$$
E(\boldsymbol{X})=\left(E\left(X_{1}\right), E\left(X_{2}\right), \cdots, E\left(X_{n}\right)\right)^{T}
$$
åˆ™
$$
\begin{aligned}
& E\left[(\boldsymbol{X}-E(\boldsymbol{X}))(\boldsymbol{X}-E(\boldsymbol{X}))^{T}\right] \\
=&\left(\begin{array}{cccc}
\operatorname{Var}\left(X_{1}\right) & \operatorname{Cov}\left(X_{1}, X_{2}\right) & \cdots & \operatorname{Cov}\left(X_{1}, X_{n}\right) \\
\operatorname{Cov}\left(X_{2}, X_{1}\right) & \operatorname{Var}\left(X_{2}\right) & \cdots & \operatorname{Cov}\left(X_{2}, X_{n}\right) \\
\vdots & \vdots & & \vdots \\
\operatorname{Cov}\left(X_{n}, X_{1}\right) & \operatorname{Cov}\left(X_{n}, X_{2}\right) & \cdots & \operatorname{Var}\left(X_{n}\right)
\end{array}\right)
\end{aligned}
$$
ç§°ä¸ºè¯¥éšæœºå‘é‡çš„æ–¹å·®-åæ–¹å·®çŸ©é˜µï¼Œç®€ç§°åæ–¹å·®é˜µï¼Œè®°ä¸º $\operatorname{Cov}(\boldsymbol{X})$ã€‚
> ğŸ¦Šæ³¨ï¼š$n$ ç»´éšæœºå‘é‡çš„åæ–¹å·®çŸ©é˜µ $\operatorname{Cov}(\boldsymbol{X})=\left(\operatorname{Cov}\left(X_{i}, X_{j}\right)\right)_{n \times n}$ æ˜¯ä¸€ä¸ª**å¯¹ç§°çš„éè´Ÿå®šçŸ©é˜µ**ã€‚

pythonä»£ç ï¼ˆæ±‚ä¸Šä¸€ä¾‹é¢˜çš„åæ–¹å·®çŸ©é˜µï¼‰


```python
from sympy import *
from sympy.abc import x, y 
f = (1 / 8) * (x + y)
fxy = Piecewise((f, And(x >= 0, x <= 2, y >= 0, y <= 2)), (0, True))
Ex = integrate(x * fxy, (x, -oo, oo), (y, -oo, oo))
Ey = integrate(y * fxy, (x, -oo, oo), (y, -oo, oo))
Exy = integrate(x * y * fxy, (x, -oo, oo), (y, -oo, oo))

cov_xy = Exy - Ex * Ey 
var_x = Ex_2 - (Ex ** 2)
var_y = Ey_2 - (Ey ** 2)
Matrix([[var_x, cov_xy], [cov_xy, var_y]])
```




$\displaystyle \left[\begin{matrix}0.305555555555556 & -0.0277777777777775\\-0.0277777777777775 & 0.305555555555556\end{matrix}\right]$



* ç›¸å…³ç³»æ•°ä¸ç›¸å…³ç³»æ•°çŸ©é˜µ    
&emsp;&emsp;ç›¸å…³ç³»æ•°ï¼šè®¾ $(X, Y)$ æ˜¯ä¸€ä¸ªäºŒç»´éšæœºå˜é‡ï¼Œ ä¸” $\operatorname{Var}(X)=\sigma_{X}^{2}>0, \operatorname{Var}(Y)=\sigma_{Y}^{2}>0$.åˆ™ç§°
$$
\operatorname{Corr}(X, Y)=\frac{\operatorname{Cov}(X, Y)}{\sqrt{\operatorname{Var}(X)} \sqrt{\operatorname{Var}(Y)}}=\frac{\operatorname{Cov}(X, Y)}{\sigma_{X} \sigma_{Y}}
$$
ä¸º $X$ ä¸ $Y$ çš„ **(çº¿æ€§)** ç›¸å…³ç³»æ•°ï¼Œè®°ä¸º$\rho_{xy}æˆ–Corr(X, Y)$ã€‚


> ç›¸å…³ç³»æ•°$\rho_{x, y}$çš„æ€§è´¨ï¼š
> - 1. $ -1 \leqslant \operatorname{Corr}(X, Y) \leqslant 1$ï¼Œ æˆ– $|\operatorname{Corr}(X, Y)| \leqslant 1$ã€‚
> - 2. $\operatorname{Corr}(X, Y)=\pm 1$ çš„å……è¦æ¡ä»¶æ˜¯ $X$ ä¸ $Y$ é—´å‡ ä¹å¤„å¤„æœ‰çº¿æ€§å…³ç³», å³å­˜ åœ¨ $a(\neq 0)$ ä¸ $b$ï¼Œ ä½¿å¾—$$P(Y=a X+b)=1$$
> - 3. ç›¸å…³ç³»æ•° $\operatorname{Corr}(X, Y)$ åˆ»ç”»äº† $X$ ä¸ $Y$ ä¹‹é—´çš„çº¿æ€§å…³ç³»å¼ºå¼±ï¼Œ å› æ­¤ä¹Ÿå¸¸ç§°å…¶ä¸º â€œçº¿æ€§ç›¸å…³ç³»æ•°â€ã€‚
> - 4.  è‹¥ $\operatorname{Corr}(X, Y)=0$ï¼Œ åˆ™ç§° $X$ ä¸ $Y$ ä¸ç›¸å…³ã€‚ä¸ç›¸å…³æ˜¯æŒ‡ $X$ ä¸ $Y$ ä¹‹é—´æ²¡æœ‰çº¿æ€§å…³ç³»ï¼Œ ä½† $X$ ä¸ $Y$ ä¹‹é—´å¯èƒ½æœ‰å…¶ä»–çš„å‡½æ•°å…³ç³»ï¼Œ è­¬å¦‚å¹³æ–¹å…³ç³»ã€å¯¹æ•°å…³ç³»ç­‰ã€‚
> - 5. è‹¥ $\operatorname{Corr}(X, Y)=1$ï¼Œ åˆ™ç§° $X$ ä¸ $Y$ å®Œå…¨æ­£ç›¸å…³ï¼› è‹¥ $\operatorname{Corr}(X, Y)=-1$ï¼Œ åˆ™ç§° $X$ ä¸ $Y$ å®Œå…¨è´Ÿç›¸å…³ã€‚
> - 6. è‹¥ $0<|\operatorname{Corr}(X, Y)|<1$ï¼Œ åˆ™ç§° $X$ ä¸ $Y$ æœ‰ â€œä¸€å®šç¨‹åº¦â€ çš„çº¿æ€§å…³ç³»ã€‚ $|\operatorname{Corr}(X, Y)|$ è¶Šæ¥è¿‘äº 1ï¼Œ åˆ™çº¿æ€§ç›¸å…³ç¨‹åº¦è¶Šé«˜ï¼› $|\operatorname{Corr}(X, Y)|$ è¶Šæ¥è¿‘äº 0 ï¼Œ åˆ™çº¿æ€§ç›¸å…³ç¨‹åº¦è¶Šä½ã€‚ è€Œåæ–¹å·®çœ‹ä¸å‡ºè¿™ä¸€ç‚¹ï¼Œ è‹¥åæ–¹å·®å¾ˆå°ï¼Œ è€Œå…¶ä¸¤ä¸ªæ ‡å‡†å·® $\sigma_{X}$ å’Œ $\sigma_{Y}$ ä¹Ÿå¾ˆå°ï¼Œ åˆ™å…¶æ¯”å€¼å°±ä¸ä¸€å®šå¾ˆå°ã€‚

&emsp;&emsp;ç›¸å…³ç³»æ•°çŸ©é˜µï¼šç±»ä¼¼äºåæ–¹å·®çŸ©é˜µï¼Œç›¸å…³ç³»æ•°çŸ©é˜µå°±æ˜¯æŠŠåæ–¹å·®çŸ©é˜µä¸­æ¯ä¸ªå…ƒç´ æ›¿æ¢æˆç›¸å…³ç³»æ•°ï¼Œå…·ä½“æ¥è¯´å°±æ˜¯ï¼š
$$
\begin{aligned}
& \operatorname{Corr}(X, Y)=\frac{\operatorname{Cov}(X, Y)}{\sqrt{\operatorname{Var}(X)} \sqrt{\operatorname{Var}(Y)}}=\frac{\operatorname{Cov}(X, Y)}{\sigma_{X} \sigma_{Y}} \\
=&\left(\begin{array}{cccc}
1 & \operatorname{Corr}\left(X_{1}, X_{2}\right) & \cdots & \operatorname{Corr}\left(X_{1}, X_{n}\right) \\
\operatorname{Corr}\left(X_{2}, X_{1}\right) & 1 & \cdots & \operatorname{Corr}\left(X_{2}, X_{n}\right) \\
\vdots & \vdots & & \vdots \\
\operatorname{Corr}\left(X_{n}, X_{1}\right) & \operatorname{Corr}\left(X_{n}, X_{2}\right) & \cdots & 1
\end{array}\right)
\end{aligned}
$$

pythonä»£ç ï¼ˆæ±‚ä¸Šä¸€ä¾‹é¢˜çš„ç›¸å…³ç³»æ•°çŸ©é˜µï¼‰


```python
from sympy import *
from sympy.abc import x, y 
f = (1 / 8) * (x + y)
fxy = Piecewise((f, And(x >= 0, x <= 2, y >= 0, y <= 2)), (0, True))
Ex = integrate(x * fxy, (x, -oo, oo), (y, -oo, oo))
Ey = integrate(y * fxy, (x, -oo, oo), (y, -oo, oo))
Exy = integrate(x * y * fxy, (x, -oo, oo), (y, -oo, oo))

cov_xy = Exy - Ex * Ey 
var_x = Ex_2 - (Ex ** 2)
var_y = Ey_2 - (Ey ** 2)
Matrix([[1, cov_xy/(var_x * var_y)], [cov_xy/(var_x * var_y), 1]])
```




$\displaystyle \left[\begin{matrix}1 & -0.297520661157021\\-0.297520661157021 & 1\end{matrix}\right]$



## 1.7 éšæœºå˜é‡åºåˆ—çš„æ”¶æ•›çŠ¶æ€ï¼šä¾æ¦‚ç‡æ”¶æ•›ã€ä¾åˆ†å¸ƒæ”¶æ•›

* ä¾æ¦‚ç‡æ”¶æ•›ï¼šè®¾ $\left\{X_{n}\right\}$ ä¸ºä¸€éšæœºå˜é‡åºåˆ—ï¼Œ $X$ ä¸ºä¸€éšæœºå˜é‡ï¼Œ å¦‚æœå¯¹ä»»æ„çš„ $\varepsilon>0$ï¼Œ æœ‰
$$
P\left(\left|X_{n}-X\right| \geqslant \varepsilon\right) \rightarrow 0(n \rightarrow \infty)
$$
åˆ™ç§°åºåˆ— $\left\{X_{n}\right\}$ ä¾æ¦‚ç‡æ”¶æ•›äº $X$ï¼Œ è®°ä½œ $X_{n} \stackrel{P}{\longrightarrow} X$ã€‚

ä¾æ¦‚ç‡æ”¶ç«çš„å«ä¹‰æ˜¯ï¼š $X_{n}$ å¯¹ $X$ çš„ç»å¯¹åå·®ä¸å°äºä»»ä¸€ç»™å®šé‡çš„å¯èƒ½æ€§å°†éšç€ $n$å¢å¤§è€Œæ„ˆæ¥æ„ˆå°ã€‚æˆ–è€…è¯´ï¼Œ ç»å¯¹åå·® $\left|X_{n}-X\right|$ å°äºä»»ä¸€ç»™å®šé‡çš„å¯èƒ½æ€§å°†éšç€ $n$ å¢å¤§è€Œæ„ˆæ¥æ„ˆæ¥è¿‘äº 1 , å³$P\left(\left|X_{n}-X\right| \geqslant \varepsilon\right) \rightarrow 0(n \rightarrow \infty)$ç­‰ä»·äº
$$
P\left(\left|X_{n}-X\right|<\varepsilon\right) \rightarrow 1 \quad(n \rightarrow \infty) 
$$
ç‰¹åˆ«å½“ $X$ ä¸ºé€€åŒ–åˆ†å¸ƒæ—¶ï¼Œ å³ $P(X=c)=1$ï¼ˆåƒæ¦‚ç‡på°±æ˜¯ä¸€ä¸ªæ¡ˆä¾‹ï¼Œé¢‘ç‡ä¸æ–­è¶‹è¿‘äºä¸€ä¸ªå¸¸æ•°pï¼Œè¿™ä¸ªpå°±æ˜¯æ¦‚ç‡ï¼‰ï¼Œ åˆ™ç§°åºåˆ— $\left\{X_{n}\right\}$ ä¾æ¦‚ç‡æ”¶æ•›äº $c$ï¼Œ å³ $X_{n} \stackrel{P}{\longrightarrow} c$ã€‚
> ä¾æ¦‚ç‡æ”¶æ•›æ€§è´¨ï¼šè®¾$X_{n} \stackrel{P}{\longrightarrow}a, Y_{n} \stackrel{P}{\longrightarrow}{b}$ï¼Œåˆè®¾å‡½æ•°$g(x, y)$åœ¨ç‚¹$(a, b)$è¿ç»­ï¼Œåˆ™$$g(X_{n}, Y_{n}) \stackrel{P}{\longrightarrow} g(a, b)$$

* ä¾åˆ†å¸ƒæ”¶æ•›ï¼šè®¾éšæœºå˜é‡ $X, X_{1}, X_{2}, \cdots$ çš„åˆ†å¸ƒå‡½æ•°åˆ†åˆ«ä¸º $F(x), F_{1}(x), F_{2}(x), \cdots$ã€‚ è‹¥å¯¹ $F(x)$ çš„ä»»ä¸€**è¿ç»­ç‚¹** $x$ï¼Œ éƒ½æœ‰
$$
\lim _{n \rightarrow \infty} F_{n}(x)=F(x)
$$
åˆ™ç§° $\left\{F_{n}(x)\right\}$ **å¼±æ”¶æ•›**äº $F(x)$ï¼Œ è®°ä½œ
$$
F_{n}(x) \stackrel{W}{\longrightarrow} F(x) 
$$
ä¹Ÿç§°ç›¸åº”çš„éšæœºå˜é‡åºåˆ— $\left\{X_{n}\right\}$ æŒ‰åˆ†å¸ƒæ”¶æ•›äº $X$ï¼Œ è®°ä½œ
$$
X_{n} \stackrel{L}{\longrightarrow} X
$$

> æ³¨ï¼šä¾æ¦‚ç‡æ”¶æ•›å¯æ¨å‡ºä¾åˆ†å¸ƒæ”¶æ•›ï¼Œåä¹‹ä¸æˆç«‹ã€‚

## 1.8 å¤§æ•°å®šå¾‹

å¤§æ•°å®šå¾‹æ˜¯å™è¿°éšæœºå˜é‡åºåˆ—çš„å‰ä¸€äº›é¡¹çš„ç®—æ•°å¹³å‡å€¼åœ¨æŸç§æ¡ä»¶ä¸‹æ”¶æ•›åˆ°è¿™äº›é¡¹çš„å‡å€¼çš„ç®—æ•°å¹³å‡å€¼ã€‚

&emsp;&emsp;**ï¼ˆå¼±å¤§æ•°ï¼‰è¾›é’¦å¤§æ•°å®šç†**ï¼šè®¾$X_{1}, X_{2}, \cdots$æ˜¯ç›¸äº’ç‹¬ç«‹ï¼Œæœä»åŒä¸€åˆ†å¸ƒçš„éšæœºå˜é‡åºåˆ—ï¼Œä¸”$X_{i}, i = 1, 2, \cdots$çš„æ•°å­¦æœŸæœ›å­˜åœ¨ï¼Œä½œå‰$n$ä¸ªå˜é‡çš„ç®—æ•°å¹³å‡$\overline{X} = \frac{1}{n} \sum_{k =1}^{n} X_{k}$, åˆ™å¯¹äºä»»æ„çš„$\varepsilon > 0$ï¼Œæœ‰
$$
\lim_{n \rightarrow \infty} P\{\left| \frac{1}{n} \sum_{k =1}^{n} X_{k} - \frac{1}{n} \sum_{k =1}^{n} E(X_{k}) \right| < \varepsilon\} = \lim_{n \rightarrow \infty} P\{\left| \overline{X} - \overline{E(X)}\right| < \varepsilon\}=1
$$
å³ $\overline{X} \stackrel{P} \longrightarrow \overline{E(X)}$ï¼Œè‹¥éšæœºå˜é‡åºåˆ—å…·æœ‰æ•°å­¦æœŸæœ›$E(X_{k}) = \mu (k = 1, 2, \cdots)$ï¼Œåˆ™ä¸Šå¼å˜ä¸º
$$
\lim_{n \rightarrow \infty} P\{\left| \frac{1}{n} \sum_{k =1}^{n} X_{k} - \mu \right| < \varepsilon\} = \lim_{n \rightarrow \infty} P\{\left| \overline{X} - \mu \right| < \varepsilon\} = 1
$$
å³ $\overline{X} \stackrel{P} \longrightarrow \mu$ã€‚

&emsp;&emsp;**ä¼¯åŠªåˆ©å¤§æ•°å®šç†**ï¼šè®¾$f_{A}$æ˜¯$n$æ¬¡ç‹¬ç«‹é‡å¤å®éªŒä¸­äº‹ä»¶$A$å‘ç”Ÿçš„æ¬¡æ•°ï¼Œ$p$æ˜¯äº‹ä»¶$A$åœ¨æ¯æ¬¡è¯•éªŒä¸­å‘ç”Ÿçš„æ¦‚ç‡ï¼Œåˆ™å¯¹äºä»»æ„æ­£æ•°$\varepsilon > 0$ï¼Œæœ‰
$$
\lim_{n \rightarrow \infty} P\{\left| \frac{f_{A}}{n} - p \right | < \varepsilon \} = 1
$$
æˆ–
$$
\lim_{n \rightarrow \infty} P\{\left| \frac{f_{A}}{n} - p \right | \ge \varepsilon \} = 0
$$
å³ $\frac{f_{A}}{n} \stackrel{P}{\longrightarrow} p$ã€‚

> ğŸ’¡å¤§æ•°å®šç†çš„æ¡ä»¶ï¼šç‹¬ç«‹é‡å¤äº‹ä»¶ã€é‡å¤æ¬¡æ•°è¶³å¤Ÿå¤šã€‚

ğŸ”¥ä¾‹ï¼šä½¿ç”¨è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿæ³•æ±‚å®šç§¯åˆ†

è®¾ $0 \leqslant f(x) \leqslant 1$, æ±‚ $f(x)$ åœ¨ åŒºé—´ $[0,1]$ ä¸Šçš„ç§¯åˆ†å€¼
$$
J=\int_{0}^{1} f(x) \mathrm{d} x
$$
ğŸ¦Šè§£:åœ¨æ­£æ–¹å½¢$\{0 \leqslant x \leqslant 1,0 \leqslant y \leqslant 1\}$å†…å‡åŒ€åœ°æŠ•ç‚¹$(x_i,y_i)$ï¼ŒæŠ•nä¸ªç‚¹ï¼Œç‚¹è¶Šå¤šè¶Šå¥½ã€‚å¦‚æœæŸä¸ªç‚¹$y_i \le f(x_i)$,åˆ™è®¤ä¸ºäº‹ä»¶å‘ç”Ÿï¼Œæˆ‘ä»¬è®¡ç®—æ»¡è¶³$y_i \le f(x_i)$ç‚¹çš„ä¸ªæ•°$S_n$ï¼Œä½¿ç”¨å¤§æ•°å®šå¾‹ï¼šé¢‘ç‡ç¨³å®šäºæ¦‚ç‡ï¼Œå³ï¼š$\frac{S_n}{n}$å°±æ˜¯ç§¯åˆ†å€¼ã€‚

pythonä»£ç ï¼ˆæ±‚è§£ä¾‹é¢˜ï¼‰


```python
from scipy import integrate
from scipy.stats import uniform
import numpy as np
import matplotlib.pyplot as plt 
from random import choice

# è’™ç‰¹å¡æ´›åŸç†ï¼šå°†å¾…ç§¯åˆ†å‡½æ•°çœ‹ä½œæ˜¯æŸä¸ªæ¦‚ç‡å¯†åº¦åˆ†å¸ƒå‡½æ•°ï¼Œæ ¹æ®åˆ†å¸ƒå‡½æ•°çš„å®šä¹‰ï¼Œé‚£ä¹ˆå¯¹å‡½æ•°çš„ç§¯åˆ†å°±è½¬åŒ–ä¸ºæ±‚æ¦‚ç‡çš„è¿‡ç¨‹ã€‚
x_arr = np.linspace(0, 1, 1000)
y_arr = x_arr ** 3

x_n = uniform.rvs(size=100)   
y_n = uniform.rvs(size=100)
plt.figure(figsize=(12, 6))
plt.stackplot(x_arr, y_arr, alpha=0.5, color='skyblue')
plt.scatter(x_n, y_n)
plt.text(1.0, 1.0, r'$y = x^3$')
plt.show()

class Montecarlo():
    def __init__(self, n):
        self.n = n    # æ¨¡æ‹Ÿçš„æ¬¡æ•°
        self.fn = 0 
    def solve(self, x, y, f):
        for i in range(self.n):
            a = choice(x)
            b = choice(y)
            if f(a) >= b:
                self.fn += 1
            else:
                continue
        res = self.fn / self.n
        print("è’™ç‰¹å¡æ´›æ–¹æ³•(æ¨¡æ‹Ÿ{}æ¬¡)è®¡ç®—çš„ç»“æœä¸ºï¼š{}".format(self.n, res))

# æ±‚è§£y = x^3 åœ¨åŒºé—´[0, 1]ä¸Šçš„ç§¯åˆ†å€¼
x_1 = np.linspace(0, 1, 1000)
y_1 = np.linspace(0, 1, 1000)
def f(x):
    return x ** 3
int_f = integrate.quad(f, 0, 1)
print("å‡½æ•°y = x^3 çš„ç§¯åˆ†å€¼ä¸ºï¼š{}".format(int_f[0]))
monte_10 = Montecarlo(10)
monte_10.solve(x_1, y_1, f)
monte_100 = Montecarlo(100)
monte_100.solve(x_1, y_1, f)
monte_1000 = Montecarlo(1000)
monte_1000.solve(x_1, y_1, f)
monte_10000 = Montecarlo(10000)
monte_10000.solve(x_1, y_1, f)
```


    
![png](img/output_94_0.png)
    


    å‡½æ•°y = x^3 çš„ç§¯åˆ†å€¼ä¸ºï¼š0.25
    è’™ç‰¹å¡æ´›æ–¹æ³•(æ¨¡æ‹Ÿ10æ¬¡)è®¡ç®—çš„ç»“æœä¸ºï¼š0.2
    è’™ç‰¹å¡æ´›æ–¹æ³•(æ¨¡æ‹Ÿ100æ¬¡)è®¡ç®—çš„ç»“æœä¸ºï¼š0.25
    è’™ç‰¹å¡æ´›æ–¹æ³•(æ¨¡æ‹Ÿ1000æ¬¡)è®¡ç®—çš„ç»“æœä¸ºï¼š0.247
    è’™ç‰¹å¡æ´›æ–¹æ³•(æ¨¡æ‹Ÿ10000æ¬¡)è®¡ç®—çš„ç»“æœä¸ºï¼š0.2521
    

## 1.9 ä¸­å¿ƒæé™å®šç†

ä¸­å¿ƒæé™å®šç†ç¡®å®šåœ¨ä»€ä¹ˆæ¡ä»¶ä¸‹ï¼Œå¤§é‡éšæœºå˜é‡ä¹‹å’Œçš„åˆ†å¸ƒé€¼è¿‘äºæ­£æ€åˆ†å¸ƒã€‚

&emsp;&emsp;**ç‹¬ç«‹åŒåˆ†å¸ƒçš„ä¸­å¿ƒæé™å®šç†**ï¼šè®¾éšæœºå˜é‡$X_{1}, X_{2}, \cdots, X_{n}, \cdots$ç›¸äº’ç‹¬ç«‹ï¼Œæœä»åŒä¸€åˆ†å¸ƒï¼Œä¸”å…·æœ‰æ•°å­¦æœŸæœ›å’Œæ–¹å·®ï¼š$E(X_{k}) = \mu, D(X_{k}) = \sigma ^{2} (k = 1, 2, \cdots)$ï¼Œåˆ™éšæœºå˜é‡ä¹‹å’Œ$\sum_{k=1}^{n}X_{k}$çš„æ ‡å‡†åŒ–å˜é‡
$$
Y_{n} = \frac{\sum_{k=1}^{n}X_{k} - E(\sum_{k=1}^{n}X_{k})}{\sqrt{D(\sum_{k=1}^{n}X_{k})}} = \frac{\sum_{k=1}^{n}X_{k} - n\mu}{\sqrt{n}\sigma}
$$
çš„åˆ†å¸ƒå‡½æ•°$F_{n}(x)$å¯¹äºä»»æ„$x$æ»¡è¶³
$$
\begin{aligned}
\lim_{n \rightarrow \infty}F_{n}(X)
 &= \lim_{n \rightarrow \infty}P\left \{ \frac{\sum_{k=1}^{n}X_{k} - n\mu}{\sqrt{n}\sigma} \le x \right \}  \\
 &= \int_{-\infty}^{x} \frac{1}{\sqrt{2 \pi}} e^{- t^{2}/ 2}dt  \\
 &= \Phi (x)
\end{aligned}
$$
å³ $Y_{n} \sim N(n\mu, \sigma^{2})$æˆ–$\overline{X} \sim N(\mu, \sigma^{2}/n)$æˆ–$\frac{\overline{X} - \mu}{\sigma / \sqrt{n}} \sim N(0, 1)$ã€‚

pythonä»£ç ï¼ˆéªŒè¯ç‹¬ç«‹åŒåˆ†å¸ƒçš„ä¸­å¿ƒæé™å®šç†ï¼‰


```python
from sympy import * 
from scipy.stats import norm       # æ­£æ€åˆ†å¸ƒ
from scipy.stats import expon      # æŒ‡æ•°åˆ†å¸ƒ
from scipy.stats import uniform     # å‡åŒ€åˆ†å¸ƒ
from scipy.stats import poisson     # æ³Šæ¾åˆ†å¸ƒ
import scipy.stats as ss           # 0-1 åˆ†å¸ƒ(å‰æ–‡æœ‰é‡åçš„å˜é‡åï¼Œä¸ä¾¿ç›´æ¥å¼•å…¥)  from scipy.stats import bernoulli
import matplotlib.pyplot as plt
import numpy as np
import random
```


```python
# 1. nä¸ªæœä»æ­£æ€åˆ†å¸ƒéšæœºå˜é‡çš„å’Œ çš„åˆ†å¸ƒ

def norm_sum(mu, sigma, n, x_size):
    X = 0
    for i in range(n):
        x_i = norm(loc=mu[i], scale=sigma[i]).rvs(size=x_size)
        X += x_i
    plt.figure(figsize=(10, 8))    
    plt.hist(X, density=True, histtype='stepfilled', alpha=0.2)
    plt.title("Random variable number n={}".format(str(n)))
    plt.xlabel("x")
    plt.ylabel("p(x)")
    plt.show()

x_size = 10000
mu = np.zeros(x_size)
sigma = np.random.randint(0, 10, x_size)
norm_sum(mu, sigma, 10, x_size)
norm_sum(mu, sigma, 100, x_size)
```


    
![png](img/output_100_0.png)
    



    
![png](img/output_100_1.png)
    



```python
# 2. nä¸ªæœä»å‡åŒ€åˆ†å¸ƒéšæœºå˜é‡çš„å’Œ çš„åˆ†å¸ƒ

def variable_sum(n, x_size, distribution):
    X = 0
    for i in range(n):
        x_i = distribution.rvs(x_size)
        X += x_i
    plt.figure(figsize=(10, 8))    
    plt.hist(X, density=True, histtype='stepfilled', alpha=0.2)
    plt.title("Random variable number n={}".format(str(n)))
    plt.xlabel("x")
    plt.ylabel("p(x)")
    plt.show()

x_size = 10000
loc = np.zeros(x_size)
scale = 5
distribution = uniform(loc=loc, scale=scale)
variable_sum(n=10, x_size=x_size, distribution=distribution)
variable_sum(n=100, x_size=x_size, distribution=distribution)
```


    
![png](img/output_101_0.png)
    



    
![png](img/output_101_1.png)
    



```python
# 3. nä¸ªæœä»æŒ‡æ•°åˆ†å¸ƒéšæœºå˜é‡çš„å’Œ çš„åˆ†å¸ƒ

x_size = 10000
lam = 5
distribution = expon(scale=1/lam)
variable_sum(n=10, x_size=x_size, distribution=distribution)
variable_sum(n=100, x_size=x_size, distribution=distribution)
```


    
![png](img/output_102_0.png)
    



    
![png](img/output_102_1.png)
    



```python
# 4. nä¸ªæœä»æ³Šæ¾åˆ†å¸ƒéšæœºå˜é‡çš„å’Œ çš„åˆ†å¸ƒ

x_size = 10000
mu = 5
distribution = poisson(mu=mu)
variable_sum(n=10, x_size=x_size, distribution=distribution)
variable_sum(n=100, x_size=x_size, distribution=distribution)
```


    
![png](img/output_103_0.png)
    



    
![png](img/output_103_1.png)
    



```python
# 5. nä¸ªæœä»ï¼ˆ0- 1ï¼‰åˆ†å¸ƒéšæœºå˜é‡çš„å’Œ çš„åˆ†å¸ƒ

def bernoulli_sum(n, x_size, p):
    X = 0
    for i in range(n):
        x_i = ss.bernoulli.rvs(p, size=x_size)
        X += x_i
    plt.figure(figsize=(10, 8))    
    plt.hist(X, density=True, histtype='stepfilled', alpha=0.2)
    plt.title("Random variable number n={}".format(str(n)))
    plt.xlabel("x")
    plt.ylabel("p(x)")
    plt.show()

x_size = 10000
p = 0.4
bernoulli_sum(n=10, x_size=x_size, p=p)
bernoulli_sum(n=100, x_size=x_size, p=p)
```


    
![png](img/output_104_0.png)
    



    
![png](img/output_104_1.png)
    


## 1.10 æ•°å­¦å»ºæ¨¡æ¡ˆä¾‹åˆ†æï¼šæŠ•èµ„ç»„åˆåˆ†æ

* ğŸ“•ä»»åŠ¡ï¼šGitModelå…¬å¸æ˜¯ä¸€å®¶ä¸“ä¸šçš„æŠ•èµ„é“¶è¡Œï¼Œå¿—åœ¨å¸®åŠ©å®¢æˆ·æ›´å¥½åœ°ç®¡ç†èµ„äº§ã€‚å®¢æˆ·æ‰‹å¤´ä¸Šæœ‰ä¸€ç¬”100ä¸‡çš„èµ„é‡‘ï¼Œå¸Œæœ›å°†è¿™ç¬”é’±æŠ•å…¥è‚¡ç¥¨å¸‚åœºè¿›è¡ŒæŠ•èµ„ç†è´¢ï¼ŒæŠ•èµ„äººçœ‹ä¸­äº†ä¸¤ä¸ªè‚¡ç¥¨$A$ã€$B$ï¼Œè‚¡ç¥¨åˆ†æå¸ˆé€šè¿‡å¯¹è‚¡ç¥¨$A$ã€$B$çš„å†å²æ•°æ®åˆ†æå‘ç°ï¼šè‚¡ç¥¨$A$çš„å¹³å‡æ”¶ç›Šç‡è¿‘ä¼¼æœä»$N(0.1,0.01)$ï¼Œè‚¡ç¥¨Bçš„å¹³å‡æ”¶ç›Šç‡è¿‘ä¼¼æœä»$N(0.3,0.04)$ã€‚ç°åœ¨å®¢æˆ·å¸Œæœ›é€šè¿‡åˆ†æå¾—å‡ºæŠ•èµ„è‚¡ç¥¨$A$ã€$B$çš„æœ€ä½³ç»„åˆï¼ˆåœ¨é¢„æœŸæ”¶ç›Šç‡ç¡®å®šæƒ…å†µä¸‹æœ€å°é£é™©æ—¶ï¼Œéœ€è¦æŠ•èµ„$A$ã€$B$çš„ä»½é¢ï¼‰ã€‚

* ğŸ¦Šè§£ï¼šç”±é¢˜æ„çŸ¥ï¼š
è‚¡ç¥¨$A, B$çš„æ”¶ç›Š$X, Y$æœä»å¦‚ä¸‹åˆ†å¸ƒ
$$
 X \sim N(0.1, 0.01),  Y \sim N(0.3, 0.04)
$$
è®¾æŠ•èµ„è‚¡ç¥¨$A$çš„ä»½é¢ä¸º$p$, åˆ™æŠ•èµ„è‚¡ç¥¨$B$çš„ä»½é¢ä¸º$(1-p)$ï¼Œå…¶ä¸­$(0 \le p \le 1)$ï¼Œæ€»æ”¶ç›Šä¸º$Z$ï¼Œåˆ™
$$
Z = pX + (1-p)Y
$$
å‡å€¼ä½“ç°è‚¡ç¥¨çš„å¹³å‡æ”¶ç›Šç‡é«˜ä½ï¼Œæ–¹å·®ä½“ç°è‚¡ç¥¨çš„é£é™©å¤§å°ã€‚åˆ™å¹³å‡æ”¶ç›Šç‡ä¸º
$$
E(Z) = E(pX + (1-p)Y) = pE(X) + (1-p)E(Y)
$$
é£é™©å¤§å°(ç›®æ ‡å‡½æ•°)ä¸º
$$
\begin{aligned}
D(Z) &= D(pX + (1-p)Y) \\
&=D(pX) + D((1-p)Y) + 2Cov(pX, (1-p)Y) \\
&= p^{2}D(X) + (1-p)^{2}D(Y) + 2p(1-p)Cov(X, Y)
\end{aligned}
$$
ç”±é¢˜æ„çŸ¥ï¼Œéœ€è¦æ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„$p*$ï¼Œä½¿å¾—é£é™©$D(Z)$æœ€å°
$$
venture = \underset{p^{*}}{argmin}\left[D(Z) \right ] = \underset{p^{*}}{argmin}\left [p^{2}D(X) + (1-p)^{2}D(Y) + 2p(1-p)Cov(X, Y) \right ]
$$

pythonä»£ç ï¼ˆæ±‚è§£ä¸Šé¢˜ï¼‰


```python
from sympy import *
from scipy.stats import norm 
from sympy.abc import p

X = norm(loc=0.1, scale=0.1)
Y = norm(loc=0.3, scale=0.2)
Dx, Dy = X.var(), Y.var()

def compute_risk(Dx, Dy, rho):
    # print("å½“ç›¸å…³ç³»æ•°rho={:.1f}æ—¶ï¼š".format(rho))
    Cov_xy = rho * sqrt(Dx) * sqrt(Dy)
    # ç›®æ ‡å‡½æ•°
    venture = p ** 2 * Dx + (1-p) ** 2 * Dy + 2 * p * (1-p) * Cov_xy
    # æ±‚é©»ç‚¹
    venture_dp = diff(venture, p)
    p0 = solve(venture_dp)
    # print("\té©»ç‚¹p0={:.2f}".format(p0[0]))
    # åˆ¤æ–­åœ¨è¯¥ç‚¹æ˜¯å¦å–å¾—æå°å€¼
    venture_dp_2 = diff(venture_dp, p)
    temp = venture_dp_2.evalf(subs={p:p0[0]})
    if temp < 0:
        print("\tè¯¥ç‚¹ä¸æ˜¯å‡½æ•°çš„æå°å€¼ç‚¹ã€‚")      
    venture_min = venture.evalf(subs={p:p0[0]})
    # print("\té£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š{:.4f}".format(venture_min))
    # print("\tæ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * {}, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *{}".format(p0[0], 1-p0[0]))
    return p0[0], venture_min

rhos = [-1.0, -0.9, -0.8, -0.7, -0.6, -0.5, -0.4, -0.3, -0.2, -0.1, 0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0]
ps = []
ventures = []
for rho in rhos:
    temp1, temp2 = compute_risk(Dx, Dy, rho)
    ps.append(temp1)
    ventures.append(temp2)

for idx, p in enumerate(ps):
    r = (idx - 10) * 0.1
    if (p > 1) or (p < 0):
        print("ç›¸å…³ç³»æ•°rho={:.2f}æ—¶ï¼ŒæŠ•èµ„æ–¹æ¡ˆæ— å®é™…æ„ä¹‰ã€‚".format(r))
    else:
        print("å½“ç›¸å…³ç³»æ•°rho={:.2f}æ—¶ï¼š".format(r))
        print("\té£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š{:.4f}".format(ventures[idx]))
        print("\tæ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * {}, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *{}".format(p, 1-p))
```

    å½“ç›¸å…³ç³»æ•°rho=-1.00æ—¶ï¼š
    	é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0000
    	æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 0.666666666666667, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0.333333333333333
    å½“ç›¸å…³ç³»æ•°rho=-0.90æ—¶ï¼š
    	é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0009
    	æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 0.674418604651163, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0.325581395348837
    å½“ç›¸å…³ç³»æ•°rho=-0.80æ—¶ï¼š
    	é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0018
    	æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 0.682926829268293, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0.317073170731707
    å½“ç›¸å…³ç³»æ•°rho=-0.70æ—¶ï¼š
    	é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0026
    	æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 0.692307692307692, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0.307692307692308
    å½“ç›¸å…³ç³»æ•°rho=-0.60æ—¶ï¼š
    	é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0035
    	æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 0.702702702702703, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0.297297297297297
    å½“ç›¸å…³ç³»æ•°rho=-0.50æ—¶ï¼š
    	é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0043
    	æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 0.714285714285714, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0.285714285714286
    å½“ç›¸å…³ç³»æ•°rho=-0.40æ—¶ï¼š
    	é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0051
    	æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 0.727272727272727, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0.272727272727273
    å½“ç›¸å…³ç³»æ•°rho=-0.30æ—¶ï¼š
    	é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0059
    	æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 0.741935483870968, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0.258064516129032
    å½“ç›¸å…³ç³»æ•°rho=-0.20æ—¶ï¼š
    	é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0066
    	æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 0.758620689655172, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0.241379310344828
    å½“ç›¸å…³ç³»æ•°rho=-0.10æ—¶ï¼š
    	é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0073
    	æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 0.777777777777778, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0.222222222222222
    å½“ç›¸å…³ç³»æ•°rho=0.00æ—¶ï¼š
    	é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0080
    	æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 0.800000000000000, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0.200000000000000
    å½“ç›¸å…³ç³»æ•°rho=0.10æ—¶ï¼š
    	é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0086
    	æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 0.826086956521739, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0.173913043478261
    å½“ç›¸å…³ç³»æ•°rho=0.20æ—¶ï¼š
    	é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0091
    	æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 0.857142857142857, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0.142857142857143
    å½“ç›¸å…³ç³»æ•°rho=0.30æ—¶ï¼š
    	é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0096
    	æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 0.894736842105263, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0.105263157894737
    å½“ç›¸å…³ç³»æ•°rho=0.40æ—¶ï¼š
    	é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0099
    	æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 0.941176470588235, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0.0588235294117647
    å½“ç›¸å…³ç³»æ•°rho=0.50æ—¶ï¼š
    	é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0100
    	æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 1.00000000000000, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0
    ç›¸å…³ç³»æ•°rho=0.60æ—¶ï¼ŒæŠ•èµ„æ–¹æ¡ˆæ— å®é™…æ„ä¹‰ã€‚
    ç›¸å…³ç³»æ•°rho=0.70æ—¶ï¼ŒæŠ•èµ„æ–¹æ¡ˆæ— å®é™…æ„ä¹‰ã€‚
    ç›¸å…³ç³»æ•°rho=0.80æ—¶ï¼ŒæŠ•èµ„æ–¹æ¡ˆæ— å®é™…æ„ä¹‰ã€‚
    ç›¸å…³ç³»æ•°rho=0.90æ—¶ï¼ŒæŠ•èµ„æ–¹æ¡ˆæ— å®é™…æ„ä¹‰ã€‚
    ç›¸å…³ç³»æ•°rho=1.00æ—¶ï¼ŒæŠ•èµ„æ–¹æ¡ˆæ— å®é™…æ„ä¹‰ã€‚
    

è¾“å‡ºç»“æœä¸ºï¼š  
å½“ç›¸å…³ç³»æ•°rho=-1.00æ—¶ï¼š

&emsp;&emsp;é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0000    
&emsp;&emsp;æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 0.666666666666667, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0.333333333333333    

å½“ç›¸å…³ç³»æ•°rho=-0.90æ—¶ï¼š   
&emsp;&emsp;é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0009   
&emsp;&emsp;æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 0.674418604651163, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0.325581395348837   
å½“ç›¸å…³ç³»æ•°rho=-0.80æ—¶ï¼š    
&emsp;&emsp;é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0018   
&emsp;&emsp;æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 0.682926829268293, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0.317073170731707   
å½“ç›¸å…³ç³»æ•°rho=-0.70æ—¶ï¼š   
&emsp;&emsp;é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0026   
&emsp;&emsp;æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 0.692307692307692, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0.307692307692308    
å½“ç›¸å…³ç³»æ•°rho=-0.60æ—¶ï¼š   
&emsp;&emsp;é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0035   
&emsp;&emsp;æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 0.702702702702703, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0.297297297297297   
å½“ç›¸å…³ç³»æ•°rho=-0.50æ—¶ï¼š   
&emsp;&emsp;é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0043    
&emsp;&emsp;æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 0.714285714285714, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0.285714285714286   
å½“ç›¸å…³ç³»æ•°rho=-0.40æ—¶ï¼š   
&emsp;&emsp;é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0051   
&emsp;&emsp;æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 0.727272727272727, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0.272727272727273   
å½“ç›¸å…³ç³»æ•°rho=-0.30æ—¶ï¼š   
&emsp;&emsp;é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0059   
&emsp;&emsp;æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 0.741935483870968, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0.258064516129032   
å½“ç›¸å…³ç³»æ•°rho=-0.20æ—¶ï¼š   
&emsp;&emsp;é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0066   
&emsp;&emsp;æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 0.758620689655172, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0.241379310344828   
å½“ç›¸å…³ç³»æ•°rho=-0.10æ—¶ï¼š   
&emsp;&emsp;é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0073   
&emsp;&emsp;æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 0.777777777777778, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0.222222222222222   
å½“ç›¸å…³ç³»æ•°rho=0.00æ—¶ï¼š   
&emsp;&emsp;é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0080   
&emsp;&emsp;æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 0.800000000000000, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0.200000000000000   
å½“ç›¸å…³ç³»æ•°rho=0.10æ—¶ï¼š   
&emsp;&emsp;é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0086    
&emsp;&emsp;æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 0.826086956521739, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0.173913043478261   
å½“ç›¸å…³ç³»æ•°rho=0.20æ—¶ï¼š   
&emsp;&emsp;é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0091   
&emsp;&emsp;æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 0.857142857142857, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0.142857142857143   
å½“ç›¸å…³ç³»æ•°rho=0.30æ—¶ï¼š   
&emsp;&emsp;é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0096     
&emsp;&emsp;æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 0.894736842105263, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0.105263157894737     
å½“ç›¸å…³ç³»æ•°rho=0.40æ—¶ï¼š    
&emsp;&emsp;é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0099    
&emsp;&emsp;æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 0.941176470588235, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0.0588235294117647    
å½“ç›¸å…³ç³»æ•°rho=0.50æ—¶ï¼š    
&emsp;&emsp;é£é™©ç³»æ•°æ³¢åŠ¨ï¼ˆæ–¹å·®ï¼‰ä¸ºï¼š0.0100    
&emsp;&emsp;æ­¤æ—¶æŠ•èµ„è‚¡ç¥¨Açš„ä»½é¢åº”ä¸ºï¼š10w * 1.00000000000000, æŠ•èµ„è‚¡ç¥¨Bçš„ä»½é¢åº”ä¸ºï¼š10w *0    
ç›¸å…³ç³»æ•°rho=0.60æ—¶ï¼ŒæŠ•èµ„æ–¹æ¡ˆæ— å®é™…æ„ä¹‰ã€‚    
ç›¸å…³ç³»æ•°rho=0.70æ—¶ï¼ŒæŠ•èµ„æ–¹æ¡ˆæ— å®é™…æ„ä¹‰ã€‚    
ç›¸å…³ç³»æ•°rho=0.80æ—¶ï¼ŒæŠ•èµ„æ–¹æ¡ˆæ— å®é™…æ„ä¹‰ã€‚    
ç›¸å…³ç³»æ•°rho=0.90æ—¶ï¼ŒæŠ•èµ„æ–¹æ¡ˆæ— å®é™…æ„ä¹‰ã€‚    
ç›¸å…³ç³»æ•°rho=1.00æ—¶ï¼ŒæŠ•èµ„æ–¹æ¡ˆæ— å®é™…æ„ä¹‰ã€‚    
